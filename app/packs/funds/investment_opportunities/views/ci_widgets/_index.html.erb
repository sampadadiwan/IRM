<% owner ||= nil %>
<% target ||= "_top" %>
<div class="d-sm-flex align-items-center justify-content-between mb-4">
  <h1 class="h3 mb-0 text-gray-800">Widgets</h1>
  <% options = {class: "btn btn-outline-primary"} %>
  <% options[:target] = target if target.present? %>
  <%= link_to "New Widget", new_ci_widget_path("ci_widget[owner_id]": owner&.id, "ci_widget[owner_type]": owner&.class), options  if !owner.blank? %>
</div>
<div class="table-responsive" data-controller="datatable">
  <table id="ci_widgets" class="table table-bordered dataTable">
    <thead>
      <tr>
        <th>
          Title
        </th>
        <th>
          Details
        </th>
        <th>
          Placement
        </th>
        <th>
        </th>
      </tr>
    </thead>
    <tbody>
      <% ci_widgets.each do |ci_widget| %>
        <%= render "ci_widgets/ci_widget", ci_widget: ci_widget, target: target %>
      <% end %>
    </tbody>
  </table>
</div>
