<%= render "/layouts/alerts" %>

<%= turbo_frame_tag "investor_kpi_mappings_list", target: "_top" do %>

  <div class="d-sm-flex align-items-center justify-content-between mb-4">
    <h1 class="h3 mb-0 text-gray-800">Investor Kpi Mappings</h1>

    <span>
      <%= link_to "New Investor Kpi Mapping", new_investor_kpi_mapping_path("investor_kpi_mapping[investor_id]": params[:investor_id]), {class: "btn btn-outline-primary"}  %>

      <%= button_to "Generate From Last Report", generate_investor_kpi_mappings_path(investor_id: params[:investor_id]), {method: :post, class: "btn btn-outline-success"}  %>
    </span>

  </div>
  <div class="table-responsive" data-controller="datatable">
    <table id="investor_kpi_mappings" class="table table-bordered dataTable jqDataTable">
      <thead>
        <tr>
          <th>
            Investor
          </th>
          <th>
            Reported Kpi Name
          </th>
          <th>
            Standard Kpi Name
          </th>
          <th>
            Show In Report
          </th>
          <th>
            Lower Threshhold
          </th>
          <th>
            Upper Threshold
          </th>
          <th>
          </th>
        </tr>
      </thead>
      <tbody>
        <% @investor_kpi_mappings.each do |investor_kpi_mapping| %>
          <%= render investor_kpi_mapping %>
        <% end %>
      </tbody>
    </table>
  </div>

<% end %>