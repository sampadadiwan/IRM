<%= render "/layouts/alerts" %>
<%= render "/layouts/filter", associations: [:kpis, :entity], hidden_fields: {grid_view: params[:grid_view]} %>

<%= render ReportingComponent.new do %>
    <% if params[:grid_view].present? %>
        <%= turbo_frame_tag "kpi_reports_list", target: "_top" do %>
            <%= render "/kpi_reports/grid_view", kpi_reports: @kpi_reports if @kpi_reports %>
        <% end %>
    <% else %>
        <%= render "/kpi_reports/index", kpi_reports: @kpi_reports if @kpi_reports %>
    <% end %>
<% end %>