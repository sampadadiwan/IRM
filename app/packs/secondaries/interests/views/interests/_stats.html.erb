
<% colors = ["success", "warning", "danger", "primary", "secondary", "info"].freeze %>

<% index = 0 %>
<div class="row">
    
    <% stats = [
        ["All", secondary_sale.interests.count, interests_secondary_sale_path(secondary_sale)], 
        ["Shortlisted", secondary_sale.interests.short_listed.count, interests_secondary_sale_path(secondary_sale, filter: true, q: ransack_query_params(:short_listed_status, :eq, :short_listed))], 
        ["Pending", secondary_sale.interests.pending.count, interests_secondary_sale_path(secondary_sale, filter: true, q: ransack_query_params(:short_listed_status, :eq, :pending)) ],
        ["Rejected", secondary_sale.interests.rejected.count, interests_secondary_sale_path(secondary_sale, filter: true, q: ransack_query_params(:short_listed_status, :eq, :rejected)) ],
        ["Withdrawn", secondary_sale.interests.withdrawn.count, interests_secondary_sale_path(secondary_sale, filter: true, q: ransack_query_params(:short_listed_status, :eq, :withdrawn)) ]
    ] %>
    <% stats.each do |status, count, link| %>
    <% 
        color = colors[index % colors.length]; index += 1 
    %>
    <div class="col">
        <a href="<%= link %>" data-turbo-frame="interests_frame">
            <div class="card">
            <div class="card-body">
                <div class="d-flex align-items-center mb-3">
                <div>
                    <h3 class="fs-8"><%= count %></h3>
                    <h6 class="card-subtitle mb-1 text-muted" style="min-height: 30px;"><%= status %></h6>
                </div>
                
                </div>

                <div class="progress-bar text-bg-<%=color%>" role="progressbar" style="width: 100%; height: 6px;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>

            </div>
            </div>
        </a>
    </div>
    <% end %>
  
</div>
