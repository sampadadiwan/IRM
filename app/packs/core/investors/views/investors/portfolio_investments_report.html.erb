<%= render NewCard.new do %>
<% 
    model = @investor
    if model.nil?
        model = current_user
        label = "All"
        url = portfolio_investments_report_all_investors_path
    else
        label = "#{model}"
        url = portfolio_investments_report_investor_path(model.id)
    end
%>
<%= render FormCard.new(title: "Generate Portfolio Investments Reports : #{label}") do %>
    <%= form_with(model:, validate: true, url:, method: :post, data: {turbo: false}) do |form| %>
        
        <div class="form-group">
            <%= form.label :as_of %>
            <%= form.date_field :as_of, class: "form-control", name: :as_of, id: :as_of  %>
        </div>

        <div class="form-group">
            <%= form.submit "Generate", {class: "btn btn-outline-primary"}%>
        </div>
    <% end %>
<% end %>
<% end %>