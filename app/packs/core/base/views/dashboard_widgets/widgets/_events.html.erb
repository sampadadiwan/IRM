<% 
  uri_params ||= {}
  events = Event.where(entity_id: current_user.entity_id)
  events = events.where(uri_params) if uri_params.present?
  events = events.upcoming_events.limit(10)
%>

<%= render(
      WidgetCardComponent.new(
        widget: widget,
        args: args,
        widget_size: widget.widget_size
      )
    ) do %>
  <!-- This block becomes the `content` inside the component -->
  <%= render "events/events", events:  %>
<% end %>
