<% 
  uri_params ||= {}
  src = current_user.has_cached_role?(:company_admin) ? "/tasks" : "/tasks?assigned_to_id=#{current_user.id}"
  uri = URI(src)
  uri.query = URI.encode_www_form(uri_params) if uri_params.present?
%>

<%= render(
      WidgetCardComponent.new(
        widget: widget,
        args: args,
        widget_size: widget.widget_size
      )
    ) do %>
  
    <!-- This block becomes the `content` inside the component -->
    <%= turbo_frame_tag "tasks_frame", target: "_top", src: uri.to_s do %>
    <% end %>       
  
<% end %>