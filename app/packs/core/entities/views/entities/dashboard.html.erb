<%= render "/layouts/alerts" %>

<%= render "/investor_notices/carousel", investor_entity_id: current_user.entity_id %>
<% allowed_dashboards = ["cxo_dashboard", "vc_dashboard", "fm_dashboard", "holding_dashboard", "investor_dashboard"] %>

<% if current_user.entity %>

    <% if params[:dashboard].present? &&  allowed_dashboards.include?(params[:dashboard]) %>
        <%= render params[:dashboard] %>
    <% else %>   
        <% if current_user.curr_role.to_sym == :company %>
            <%= render "cxo_dashboard" %>
        <% elsif current_user.curr_role.to_sym == :investor %>
            <%= render "vc_dashboard" %>
        <% elsif current_user.curr_role.to_sym == :fund_manager %>
            <%= render "fm_dashboard" %>
        <% elsif current_user.curr_role == "holding" %>
            <%= render "holding_dashboard" %>
        <% elsif current_user.entity.entity_type == "Family Office" || current_user.entity.entity_type == "Investment Advisor" %>
            <%= render "investment_advisor_dashboard" %>
        <% end %>
    <% end %>
<% end %>