<% if model.form_type.present? %>
    
    <% model.form_custom_fields.visible.order(position: :asc).each do |custom_field| %>
        <% v = model.properties[custom_field.name] %>
        <% if v.present? %>
            <tr>
                <td>
                    <%= custom_field&.human_label || k.to_s.humanize.titleize %>
                </td>
                <td>
                    <% if custom_field && custom_field.renderer %>
                        <%= render custom_field.renderer, value: v, model: model %>
                    <% else %>
                        <%= v %>
                    <% end %>
                </td>
            </tr>
        <% end %>

    <% end %>

    <% model.custom_calculations.each do |fcf| %>
        <tr>
            <td>
                <%= fcf.human_label %>
            </td>
            <td>
                <%= model.perform_custom_calculation(fcf.meta_data) %>
                <div><small class="form-text text-muted"><%= fcf.help_text %></small></div>
            </td>
        </tr>
    <% end %>

<% end %>