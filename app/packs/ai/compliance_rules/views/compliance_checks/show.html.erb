<%= render FormCard.new(title: "#{@compliance_check}") do %>
  <table class="table table-bordered dataTable">
    <tr>
      <td>
        Entity
      </td>
      <td>
        <%= @compliance_check.entity.name %>
      </td>
    </tr>
    <tr>
      <td>
        Parent
      </td>
      <td>
        <%= link_to @compliance_check.parent %>
      </td>
    </tr>
    <tr>
      <td>
        Owner
      </td>
      <td>
        <%= link_to @compliance_check.owner %>
      </td>
    </tr>
    <tr>
      <td>
        Status
      </td>
      <td>
        <%= @compliance_check.status %>
      </td>
    </tr>
    <tr>
      <td>
        Explanation
      </td>
      <td>
        <%= @compliance_check.explanation %>
      </td>
    </tr>

    <tr>
      <td>
        Logs
      </td>
      <td>
        <%= Json2table.get_html_table(JSON.parse(@compliance_check.audit_log), JsonTable::TABLE_OPTIONS).html_safe %>
      </td>
    </tr>
  </table>
  <div class="associated_entity">
    <% if policy(@compliance_check).update? %>
      <%= link_to "Edit", edit_compliance_check_path(@compliance_check), {class: "btn btn-outline-primary"} %>
      <%= button_to "Delete", @compliance_check, method: :delete, class: "btn btn-outline-danger", form_class: "deleteButton", data: {action: "click->confirm#popup", turbo:false}  %>
    <% end %>
  </div>
<% end %>
