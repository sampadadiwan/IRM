<div class="associated_entity" data-controller="tabs">

  <% label = investor.is_holdings_entity ? "Employee Investors" : "Investor User" %>

  <nav class="nav nav-tabs nav-fill nav-justified"  role="tablist">
    <a class="nav-link active" data-bs-toggle="pill" data-toggle="tab" href="#access-rights-tab">Access Rights</a>
    <a class="nav-link" data-bs-toggle="pill" data-toggle="tab" href="#investors-tab"><%= label %></a>
  </nav>

  <div class="tab-content">
      <div id="access-rights-tab" class="tab-pane fade in show active">
        <div id="access_rights" class="associated_entity">
          <% access_right = AccessRight.new(access_to_investor_id: investor.id, 
              owner_id: investor.investee_entity_id, 
              access_type: "Investment", 
              owner_type: "Entity", 
              owner_id: current_user.entity_id,
              entity_id: current_user.entity_id) %>
              
          <%= render "/access_rights/index", access_rights: AccessRight.for_investor(investor), access_right: access_right %>
        </div>
      </div>
      <div id="investors-tab" class="tab-pane fade">
        <div id="investor_accesses" class="associated_entity">
          <%= render "/investor_accesses/index", investor_accesses: investor.investor_accesses, 
              investor: investor, label: label %>
        </div>     
      </div>
  </div>

</div>