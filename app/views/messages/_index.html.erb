

    <!-- Illustrations -->
    <div class="card shadow mb-4">
        <div class="card-header py-3">
            <span class="m-0 font-weight-bold text-primary">Deal Tasks</span>    
            <% label = params[:show_all] == "true" ? "Hide Done" : "Show All" %>
            <% if owner %>
                <span class="float-right">
                    <%= link_to label, messages_path(owner_id: owner.id, owner_type: owner.class.name.underscore, deal_id: owner.deal_id, show_all: params[:show_all] != "true"), class: "btn btn-sm btn-primary"%>    
                    <%= link_to "New Task", new_message_path("message[owner_id]": owner.id, 
                                "message[owner_type]": owner.class.name.underscore), 
                                { data: { turbo_frame: 'new_task_message' },
                                method: :get, class: "btn btn-sm btn-primary"} %>    
                </span>

            <% else %>
                <span class="float-right">
                    <%= link_to label, messages_path(tasks: params[:tasks], show_all: params[:show_all] != "true"), class: "btn btn-sm btn-primary"%>    
                </span>    
            <% end %>
        </div>

        <div class="card-body">

            <%= turbo_frame_tag "new_task_message" do %>
            <% end %>
            <% tasks = Task.where(investor_id: 1) %>

            <%= render "/tasks/index", tasks: tasks %>
            
        </div>
    </div>
