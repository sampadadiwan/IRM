V9.0.69
#####################################
Misc fixes for valuations chart in widget
602bf6d5e Added better period filter

V9.0.68
#####################################
a09e23f8f Fixed tests for Kpi default to 12 months
d6279f3a0 Removed debug info from prod logs
cd8f3e84c Added default of 12 months to kpi reports filter for grid view
7a7f8b93f Now PortfolioReportJob takes both pdf and csv as input docs for generating the report
3caefca5f Added no pagination for grid view for KpiReport
42c4fbd8a Changed production logs to info only
62a911943 Added noteq, lt, gt to TD
5fc0a4780 Added compare_ to template decorator
573558e7f Made the corr address proof not madatory
f078565f2 Sync schema

V9.0.66
#####################################
1d2660834 Added new portfolio_report widget to Portfolio Company Dashboard
922baf753 Added kyc investor name as blank
c49dd695c Added export to numbers, remove formatting
ef71dbc11 Fixed pagy errors for IO allocations
2527e645f Excle reports (#894)

V9.0.65
#####################################
224d7fa27 Removed failing staging jobs
45ea3db37 Now Kpis are auto converted to csv for consumption in chat
045b4abe9 Fixed the db restore, to use single incr backup
1e59b4df3 Better font for tooltip in custom field
7ff5e28c6 Added info to form custom fields

V9.0.64
#####################################
ada3e6fa0 Better management of advisor cached access rights


V9.0.63
#####################################
29aa6eba0 Admin show pagy fix (#893)
79a94cc7d Merge branch 'main' of github.com:ausangshukla/IRM
c1d756da2 Pagy specs fix for deal access rights (#892)
744a8b3f2 Administrate now works with pagy (#891)
40786ce57 Aml Report generation throws error on bad date format, also send one email for all errors (#890)
9a3545464 Pagy (#888)
ed556786f Added dist payment doc gen, attach files on payment complete noti (#884)

V9.0.62
#####################################
2ae2a2c96 incr backup now stores lsn in a separate dir from full backup.
0cb3d25dd Removed BackupDBJob and cron, now only use xtrabackup
808907683 Now can clone a form type on get request - using role: :writing (#885)
bdea42878 Better support for incr backup without full backup
34098840d Xtrabackup (#886)
a04609154 Fixed tests

V9.0.61
#####################################
f61224b85 Fixed feeder_aggregate_entry in AllocateMasterFundAccountEntries
87b855102 Xtrabackup (#883)
c3ff98b96 Added db_backup_xtra.sh
d679286db Fixed tests
b9dbf120f BAckup
84a2dd491 Added highcharts from other CDN

V9.0.60
#####################################
45bb316c2 Xlsx template (#882)
50038f3d9 IF IO sharable is expired after 7 days then doesnt give error and redirects with msg (#881)
c8bdb94f8 Added better export of account entry pivot
de886b0fa In AllocateMasterFundAccountEntries now the reporting_date is set to the master fund reporting_date
e420aeb6e Added ref id in PI and AE excel download (#876)

V9.0.57
#####################################
de0a81a0c Updated AE bulk insert to insert in batches of 10k (#870)
d4f30e352 Added document text to doc shares email
2152e8c82 Now doc shares is visible ony if enabled_data_rooms
20d016920 Data rooms (#868)
ee77ce877 Changed the documents view to show for_investor if user does not belong to entity
b1b6d9b27 Fixed uniq index in doc_share, bug with multiple emails
ffafe7506 DocShares (#867)
1f405d5b6 Added better message when all investors will be sent notification from a fund
693e0eade Added better email_list for funds
e1503ee5d (tag: V9.0.56) Changed cumulative field for AccountEntry to be not mandatory for import

V9.0.56
#####################################
e1503ee5d Changed cumulative field for AccountEntry to be not mandatory for import

V9.0.55
#####################################
3487f2ca1 Added oidc key to staging
7aa7ce4a6 Backup
0f4a4fa79 Added cumulative column
94f6c8b13 Added ability to generate docker cmd for OW Ui
60c74b910 OIDC - OW UI login with CAphive (#866)
2e1e4acf3 Distributio of pis (#864)

V9.0.52
#####################################
46e01d480 Allocate master fund account entry by name (#863)
5b2ccadb4 updated amounts to fund_amounts in kyc doc gen (#862)
7e1248d73 Formula refactor (#861)
0667c9881 Fund in kyc doc gen (#859)

V9.0.52
#####################################
0a6fdafee (origin/main, origin/HEAD) Spec fixed 050625 (#858)
e2d5b699e Added convert to fund currency to CRP, added specs (#857)

V9.0.51
#####################################
97780abda (origin/main, origin/HEAD) Pi wtd avg cost (#856)

V9.0.50
#####################################
ae8c69c20 Added PI uniqueness validation using ref id, updated release notes, rubocop fix (#854)
5669afcb6 Adjustment delete (#855)
115646483 Archived migrations
da7adaf4e Kpi category (#853)

V9.0.49
#####################################
4b8c6521b Update to Ref Id for consistency, update import (#852)
de5141e3b Ae uniq ref (#851)
aa3e29de1 Upgraded ruby
b391afde2 Fixed alignment of twisty in show pages for mobile

V9.0.48
#####################################
Limit capital remittance percentage to -100.0 also

V9.0.47
#####################################
changes - 
Increased folio id limit to 40 in CapitalRemittance,CapitalDistributionPayments,PortfolioInvestments,AccountEntries, name in FundUnitSettings, unit_type in FuntUnit
limit capital remittance percentage to max 100.0 for call basis upload

V9.0.46
#####################################
updated CumulateForPortfolioCompany to cumulate at folio level as well
Updated soa and kyc generator to incorporate these cumulative account entries in portfolio_company_cumulative_folio_entries
Updated commitment folio_id and unit_type limit to 40 characters

V9.0.44
#####################################
2b32efcea (HEAD -> main, tag: V9.0.44, origin/main, origin/HEAD) Merge pull request #846 from ausangshukla/ae-name-uniqueness-fix
56becace8 Merge pull request #845 from ausangshukla/dist-payment-uploads-index-fix
6c0ea8b42  typo fix
da75353fe Update Ae upload parent validation to check parent's fund
b09b35507 Account entry uniqueness takes parent into account
bc0009edd  Dist payments index now works on import upload show page
f2901b251 Added new cols to AE smaple uploads

V9.0.42
#####################################
91cf5dc35 Better support for TaskTemplate types
40ac8032a Task list (#841)
2b79b60b2 Refactored ApplicationController to use concerns
043c7d4ba Added better toggle_verify for remittance
28b90d2b2 Added preview action for KYC and Approval
c79ec81cc Fixed migration break
f6faf07cc Added preview action for controller

V9.0.41
#####################################
7f682b569 Task list (#838)
63e09ac73 Added better ransacker for Document to enable Call Generated Docs search
6573fe885 Added private folders
8d6a27b63 Added better reports_folder to SEBI and Crisil reports
4a764fa59 Added private folders to fund and sale
2d2d8eaaa Removed XL view
1472d63e1 Now status defaults to Pending
bbd1ce0d3 Fixed bug in show details link in custom notifications
5ce55c71e Added per page and searchbox for AEs (#837)
9e15fed82 Added Allocation of Gain, Cost Of Sold, Sale Amount to Commitments
4c56050fe Now CR status changes only if verified

V9.0.40
#####################################
7a5ea16d5 Fix for download doc zipfile
c4365cd42 Use for commitment columns for remittances, fixed verify under commitment (#836)
9ea59ef93 Apis for TN (#835)
cc9a58cbb Sync test schema

V9.0.39
#####################################
6ad4d66db Fixed commitment update
1674fd9e0 (origin/export-visible-pi-ae-fix) Fixed export visible for AEs and PIs
9497e6de7 Disable generate docs for EOI
4db9de0f0 Updated investments import
9bc35d4d9 Added better btns to APi row, Add New Investment
70a20a262 renames no_link to show_details_link for CustomNotifications
cff3f67d0 Better test for EOI approval
a14a87375 Added better Approve/Unapprove service
6b2c0be95 Fixed policy to show rms the EOI they should be able to see
ddc50713f Better support for creating KYC from EOI
72034b636 Changed EOI to enable RMs
e48c94ff7 Allow 0 dollar commitments to be updated with commitment amount
635b0c08e Removed datatables
c1906e600 Fixed import_uploads/show for new ransack tables
66fd2b823 Fix fund Ratio Search
16647b47a Review changes for kpi report and offers

V9.0.37
#####################################
ea3d23447 Spec to add account entry for a commitment
1ddd46f14 Spec to upload same fund unit with diff issue date
7bf4184ed Search multiple times using search component
e065058b4 Now download of custom fielsd is as a string

V9.0.36
#####################################
96883030c Removed Entity name from kpi grid view
f34281fdf Better icons
b9b9fa5bb Fixed AE index page buttons (#823)
09f0461d5 Fixed bug with LP statements reports
d08fd90d9 Added Better spinner

V9.0.35
#####################################
d19cdd231 Minor fix for bug in custom columns being blank
0f53cd7db Parse dates3 (#819)
b9c8e8f95 Fix search bug with datasource changes (#818)
c7eb06c82 User better regex for emails and fund formula tag list fix (#817)
68961fd9c Allow uploading same fund unit with different issue date (#813)
3ec80a19b Pass fund id when creating new AE for commitment (#816)

V9.0.33
#####################################
261ba2c3f Added icons to fund formulas
ba1bde73c Fix import commitment bug - save before reload (#812)
b7385fc5f Added better step to test commitment import
7eead3c0c Custom cols2 (#811)

V9.0.32
#####################################
d62198ba5 Updated fetching fund_unit_setting (#810)
7187fa45f Fixed AR index page bug (#809)
e153cf102 Localization of secondaries and misc (#808)
a61c32b11 Report deletion bugfix 010525 (#807

V9.0.31
#####################################
7bae7017a Added deploy notifications
44e523051 Fixed bug with cross portfolio ratio, fixed fmv cents
a463f5161 Fixed send reminders to all button (#806)
e98586d12 Added deploy notifications
e81bb4b41 Icons1 (#805)
d6bda1155 Fixed access rights filtering (#804)
54723246d Added better dashboard widget dropdowns

V9.0.30
#####################################
fa13cf56a Parse dates2 (#803)
7a0d92722 Added better checks for Kpi import

V9.0.26
#####################################
8a748d682 Added hide_parent and hide_commitment for AE pivot
793a36137 Fixed CumulateForPortfolioCompany to cumulate only betw start and end date
d360e8e19 Added better unlock of AllocationRuns
4924896f6 Merge pull request #739 from ausangshukla/call-notice-update for TN

V9.0.24
#####################################
9a5f37f87 Cached api_as_of for improving allocation speed
71bd9f218 Added better fund_rations widget with charts
81c0f374b Added better dynamic report url

V9.0.23
#####################################
a6d444bf4 Added import of investors with Update Only
37145e1ca Added pivot to fund_ratios

V9.0.22
#####################################
9ebb95f3d Added dynamic reports to fund_reports widget
d665ec0ed Added value_bridge_instruments custom field to configure instruments to be used in VB widget
545fd0331 Better formatting for the pivot
1550b3c2e Added better url decode to Report
12af01549 Added DEFAULT_FEILDS to GeneratePortfolioNumbersForFund
1732d44f4 Changed AllocationRun locked to default false
311170c88 Added I18 to AccountEntry
a03f149e1 Added migrations for old AE parent_name and commitment_name
be87d2789 Fix API as of quantity, cost of remaining and add transfer quantity to pi tab
642fefd0d Added better instrument names to VB widget
4693d5cad Changed AllocatePortfolioInvestments to now use fund_formula.name and entry_type
266710d2f Added cost of remaining to pi
ef5485663 Added cost_of_remaining to PortfolioCompanyCalc
62a27f448 Better support for Captable widget
773e06619 Added GeneratePortfolioNumbersForFund fund formula
49376aa26 Added additional cols to cache names in AccountEntry
f044bec62 Fix fmv and gain for sell PI
e54c8e9bb Fix sold and transfer qty in PI as of, add Instrument curr to show page
018478dc5 Add base amount and currency to API,PI download
acc166a5b Fix PI fmv cents on date assignment
ad3aec9fe Updated downloaded excel files for PIs APIs and API as of report, minor n+1 fix

V9.0.21
#####################################
c83e6853 Added better offer test
79e1e1185 Fixed bug in the api charts
6ed91aee7 Fixes to portfolio charts
6728322de Added Time Series for API
4dbb1956e Added better FormCard to KpiReport
83a6f774c Added Time Series btn to API index
26917c728 Better support for filtering by snapshot_date
dcc5eba78 Added bullet gem to test
6be975a2b Better check for strong params for user permissons and roles updates
5698c820a Removed n+1 queries for dashboard
6ea279100 Added snapshots to the same tables
f32ae439d Added better support for account entries time series

V9.0.20
#####################################
0c24a0fec Added snapshot date to show if present
cd8936999 Fixed pagination in PI snapshots
8c581f3be Added sidekiq cron to generate fund snapshots
aa193077a Added hack for fx_rate dependent on valuation_date
a0861cdee Allows for model_snapshot_ransack to join for non snapshot models
e4d7a93de Added better API snapshots view
bbc5e6acf Added better PI snapshots view
4f18b4dfa Added better support for SnapshotPolicy
ee74e7b51 Added funds snapshots filter
81c166fe9 Started adding ability to view snapshots
57e9f0872 Fixed ValueBridgeService to enable custom fields from entity setting
49f6ce70d Added ability to inject value_bridge_fields from entity settings
7148f2f40 Added garish colors to the VB
89b889722 Added better PI ag grid to include FundName
4142a86a2 Added condensed view for fund ratios
0ca16406a (origin/valuation-fix) Valuation form now reflects actual value and doesnt round it
e89e84929 Better scopes added to DashboardWidget
f9d4fbe31 Added metatdata_help for dashboard widgets
f7256f782 Added better valuation update of decimals
bd44c96b4 Added value bridge widget for portfolio company dashboard
b9b0a35de Added better tests for kpi parse_date

V9.0.19
#####################################
c99f9c1b3 Now allows select standard fields to be used in condition_on for form custom fields
1401d66ab Renamed Cost to cost per Share
69ed91cf2 Remove /100 and *100 and just use cents
b615858c8 Added better support for testing the Kpi new import formats
6f63c2798 User * 100 instead of cents in per share value
d73266424 Updated per_share_value_in to use cents for precision
9940e42f4 Fixed search page item count issue with ransack search
2d43e807d Fixed ransacker search for enum distribution_on in CD
ae47385b2 Added better tests for value bridge
227903afd Added tests for Kpi Extractors
175008f4e Added logging back to prod servers
1b83d70a8 Improved the code for KpiWorkbookReader
0ce3c74ce Added KpiXlExtractionEngine to extract data from kpi workbook using an LLM
a7556afcb Added xirry_py version 2.4
6d1055597 Archived old db migrations
3532af00d Removed additional cols from AccountEntry grid

V9.0.18
#####################################
36161a6ef add-description-to-formula-import
f50288c0d sebi-data-err-fix
b37d4bb30 Remove investor_kyc_sebi_data table and usage
223dc9bb9 Added tag based selection of portfolio company in cross portfolio ratios
a04bc887f Added spec for formula upload, updated excel
cff45269c Fund Formula upload needs a fund id so cant be done from generic screen
f49a00e3d Updated Fund Formula import to include description

V9.0.17
#####################################
87aec2952 Now allows cross-portfolio ratios
05afa476b Fixed Fund Unit test
854316879 Added better Menu in fund card
2d3d14b63 Now creates FundUnit, does not update existing FundUnit
939fd803d Added fund ratio Scenario in the list cols
cecc9f954 Better email of errors when CD job fails
3160d3f99 Updated sebi report
a9684f0c7 Update fund stats, to reflect 0$  commitments
1742c2821 Fixes to Fund RAatio computations
8339a0fc1 Added working test for fund ratio computation
f1d5a5e12 Fixed tests for fund_units
486eb2653 Added allocation of fund units for remittances based on multiple payments
054e27f41 Added roll_up default to false for FundFormulas
ae25dedaf Auto lock the Allocation runs which are a week old
593a75a62 Removed documents from calls
e496a229f Changed Fund stats folio count to only have Folios with > 0 commitment amount
1638007c7 Removed investor composition chart in funds dashboard
e0eb925db Added sum of portfolio income to API stats
95152be77 Added tests for FundRation, needs to be improved
9a2e8545f Removed Entity name from mailer layout
33650f777 Removed additional Acct entry btns post allocation run
f49279ca0 Moved some js to vendors and some to importmaps
28d02da12 Runs, but not tested
b868152fe First draft of fund_ratio_multi_fund_calcs
8d8125c5d Added scenario to FundRatio

V9.0.16
#####################################
1168ff89c Fixed unrealized gain only for buys
535df0ea4 Removed config.host to application.rb
52ad617f1 Knowledge folder (#772)
1f814a3f5 Removed perform_all_calculations after_initialize to improve performance
7eb72b3c7 Allocation run: Adds the run id to each account entry to enable filtering by run (#771)

V9.0.15
#####################################
965e867ae Root docs fix (#770)
cada6596f aml spec fix for upload server app (#769)
f02321036 Capital Dist fixes (#768)
18fbbd3a0 Handle AML response if it is an array (#766)
80ec85f34 Merge branch 'main' of github.com:ausangshukla/IRM
0222ca89f Fixed dashboard_widget form selec dropdown
f24ba8e39 Now Doc LLM Validation works with Gemini and openai
618b5c27a Fixed doc validation tests
1a4a28796 Fixed the Ai checks using openAI
c619a67d8 Added Gemini key to prod
fd14d665a Now supports Gemini models (#764)

V9.0.14
#####################################
59237f685 Inv fund docs bug fix (#763)
fdf8987dd Added error handling for doc_llm_validator
99af8fd6b Added bulk actions for KYC validate docs

V9.0.13
#####################################
791ad1dbc Now aggregates only folio expenses and fees in fund dashboard
e6987bb3a Added better packer file for DB-Redis-ES
2a867bb1d Added better support for Deleting old AMIs
857031061 Added server_id to create_replica rake task
1d33a3155 Documents index fix (#742)
e7f68fc2a Fund cashflow graphs sorted by year and quarter
97c3aaea7 Widget changes and fixes (#762)
d23bc1646 Fixed Simple scenario bugs
d7bfe8d1b Now restore is done after backup at 2 am

V9.0.12
#####################################
736db1ae4 Added additional check to disallow restore to primary DB
b657ddc7c Fixed utc time bug in restore db
160091636 Instrument upload and download (#761)
93a0ec390 Check db backup (#760)
be3e8095c Fixed error with fund dashboard ratios line chart for nil data

V9.0.11
#####################################
b69d689b7 Instrument upload and download (#758)
1f69d8f1d Aded better dashboard_widget selection from dropdown
c714f7367 Fixed approve/unapprove for IA
4c18724f5 Added portfolio_investment_as_of_report for funds
40c7b2232 Added throttling for bad password resets for VAPT
95af8cfe3 Deletes SupportClientMapping that are disabled and 1 week old, still present in DB

V9.0.10
#####################################
ebb0b8efc Added check for todays date in PI report
ed2e33379 Added ability for approver to unapprove a doc (#718)
90bc751bc Added Generate Portfolio Investments Reports to Investors
acbc8c28b Pi as of download (#757)
6bf26b1fd Rails 8 (#756)
c1218f069 Added better UI for adding docs for PortfolioReports
c71f402f7 Added better support for selecting kpi_reports from UI
8d2e7fd8c increased length of users.advisor_entity_roles

V9.0.7
#####################################
ec606afe9 Now file download has the right file name
4b93abb17 Updated schema_test
139877994 Added Aml reports for kyc custom field additional aml report attrs (#750)
4bb2868fb Now IO does not allow for svg file uploads
395cb6a31 Added changes for VAPT defect of session replay
2b4aae2ab Backup (#754)
85ae89d77 (V9.0.6) Added expiry of session and https cookies for VAPT
5c3c4fd32 Backup
2c6c23be0 Added to file download response_content_disposition: 'attachment; filename=downloaded.pdf
d92c8dce9 Cust notifications latest (#753)
5ab2c655c Fixed tests on main
5d70453f1 Ai reports (#752)
1ab546603 Added form type to CRP
9f6556ef3 Added add_valued_bridge_custom_fields to Valuation
318788c28 Value bridge (#748)
409600a47 Download of CDP now includes all rows
f7d78eed0 Update release notes

V9.0.6
#####################################
d2a1159af Access owner tag if present for template in kyc doc gen (#719)
7e68c1043 Bug fixes 280225 (#747)
3c9f16942 Fixed exchange rate sorting (#741)
d42abc8cc Updated aml name fuzziness to 2 (#743)
02399fd0c (call_fx) Fixed import of PI and Investment instrument uniqueness
138a69b88 Specs fix 260225 (#745)
f6da2cd2c Added reports for crp and cdp (#728)
0352c40ca Updated fund unit setting upload to include gp units (#744)
1fdc3ddf5 Form fixes (#695)

V9.0.5
#####################################
11b87bbeb Used Bulk actions Job for generating AML report, removed its specific… (#676)
d9d597751 Better kpi imports from KpiReport as the source
72755cf30 Added MOIC computation for portfolio company
78abbb250 Changed Kpi report root folder to be below Investor
402d960be Added better New Note btn for PC dashboard
3aa7bef40 Added show_funds to fund ratios for PC dashboard
7f1da929d Added better Portfolio Company Dashboard
07238e094 Better label for PC KPIs
618671bf2 Added documents widget to investor dashboard
deeae2930 Added portfolio company fund ratios to dashboard
7f71d89f6 Added valuations dashboard widget
d92d07df4 Ai reports (#740)
9aa3cac0b Always reply ok to whatsapp webhook (#738)
e177019e5 Fixed board specs by adding investors (#737)

V9.0.3
#####################################
af4d38f2a Fixed CDP tests
c03ab8ab3 Updated Gems (#736)
1eb664921 Holding cleanup (#735)

V9.0.1
#####################################
b33bb3dc7 Removed unwanted holdings audit tables
8542edd3f Added better date formatting to PI
a0e54c8ac Fixed value to cost for portfolio company
4ea0d3574 Fixed bug for before scope in PI to <= date

V9.0.0
#####################################
b81bcf5db (HEAD -> main, tag: V9.0.0, origin/main, origin/HEAD) Investment upload (#733)
c835cf250 Remove deleted models from admin sidebar (#732)
6cedeba74 Remove investment step from deal spec (#731)
8bef00c48 Migrated fmv_on_date to api from FundPortfolioCalc
cf8a2d315 Better sorting of funding rounds for charts
6e5a77be6 Removed investment menus
16b616dc0 Excused investors (#730)
c3bfc436c Added better charts for cap table
d823abd65 Fixed some secondaries tests
99d88585d Removed Type from imports
df4efa39d Cap table 2 (#729)
33d975dd3 Tracking currency (#727)
dc6748609 Fixed default tracking currency
5b06878a3 Removed unwanted queries from xirr
69d0eed91 Better inline comments for XIRR calcs
2168aaa8c Sync test schema
77d2e698d Fix sebi and crisil report spec (#725)
61bb7152b Tracking currency (#724)
90f081a87 Added check to see that the docs and valuations can be ordered in the… (#722)
b4801c16a Deals updates 1 (#708)
f18949f5c Added comments (#721)
6c0ce3e09 Now tracking currency computation can be triggered via UI
3345c9401 Now shows tracking values in show pages
476404122 Tracking currency (#720)

V8.0.77
#####################################
b32ae2339 (tag: V8.0.77) Update remittances excel to not have data in the hidden column
0288b83be (tag: V8.0.76) Added check to see that the docs and valuations can be ordered in the partial
f1a53cac9 (tag: V8.0.75) Fix kyc doc gen downcase issue

V8.0.74
#####################################
89ff78c3c Portfolio Cashflows tag now assigned to actual if blank (#717)
6c799e136 Added specific symbols for sgd, aud, cad and hkd (#716)
a8d832c2a Update sample excel files (#715)
2a8536473 Tables fixes (#714)

V8.0.73
#####################################
a923616e5 Added check for active in persona
305a5d066 Added check for active entity in user active for authentication
c6a8a2be5 Uncommented out migration updates
d361cde56 Notification retention (#713)
3d319be51 Updated sebi report single page excel files to be empty (#710)
440599dd8 Update interest dashboard to use short_listed_status (#711)
a4c4b89d4 Better observability documentation

V8.0.72
#####################################
f822d1687 (HEAD -> main, tag: V8.0.72, origin/main, origin/HEAD) Added prometheus.prod.yml
8272b7fb5 Better rack_attack protection, while considering logged in users

V8.0.71
#####################################
1b1ec1d25 (tag: V8.0.71) Better logging of rack_attack block and throttle
3354275b8 Add fund units type column in index page (#709)
6c239b83e (tag: V8.0.70) Fixed entry_type for allocate_master_account_entry
41b4ffabd Fixed entry_type for allocate_master_account_entry
32298eff7 Synced test schema
dc4c2bf9b PAtch fix for migration errors
235263652 Rubocop fixes
6f9e3cee3 Added additional indexes to DB to speed up Allocations
710b9ad38 Added ruby-prof gem
17a38f8f2 Now delete account entries only if allocation is done

V8.0.68
#####################################
2550e9b7c Pi expenses (#707)
e29b07271 Feeder fund allocations (#706)
ccde66564 Added filter for fund_id for account entries in KYC doc gen
3f2ef6722 Add fund reporting acc entries to soa gen (#704)
8d2694bff Better error msgs in allocations with formula variables
0fa86a750 Now RollupAsFundAccountEntry marks entry as reporting only
66c7bcda0 Now AE rule_for is set to reporting for YTD etc entries
ea53429f4 Fixed dup entry error tests
5daa7c24a The fund rollup rule_for is now set to the fund_formula.rule_for
3b2e284f6 Defaults the YTD, QTR account entries to reporting
85d8f1734 Added fund lvl acc entries in soa generator (#703)
246825649 Added account entries import with folio and fund currency
270f35ab1 Fixed file name for AllocateMasterFundAccountEntries

V8.0.67
#####################################
6a963faf6 Ytd quarterly allocations (#702)
73f9de29b Feeder fund ratios (#701)
d99f8da66 Esign report render fix (#697)
629eaac55 Import fund and folio amounts (#699)
3f0caceda Fixed bug with kyc_doc_gen_job options being nil

V8.0.65
#####################################
69b6d80af Deleted Remittance generation basis
4406b550b Fixed tests for CDP update
d4293d6ec Added CDP Action, to refactor CDP callbacks
22747d557 Added reporting entries sum to kyc doc gen, for investing entity level SOA
0bbd17408 Added download to remittances, disabled payment fields
0c06e8f9b Better logging
5dd71a7bb Fixed rubocop issues
36d0a46c2 Added options to doc gen

V8.0.64
#####################################
33aadef97 Rubocop fixes
d34192402 Sebi fields fixes 180125 (#693)
d40d3b281 Rotated prod aws key
604cedfd1 Fixed api value_to_cost
09bfe2c85 Search component fix (#691)
b1ca37a84 Fixed commitment ratios
23af6ebe4 Entity sebi fields flag (#678)
129dbcabe Ruby 4.3.1 (#690)
85b3987a5 Fix for computation of remittances for True North  (#689)
8662e2b2e Fixed bug with Fund Ratios for FMV
0a584ae87 Idfy amlv2 (#686)
49e06b5dc Spec fix 160125 (#685)

V8.0.63
#####################################
e963f8ff1 Changed fmv in fund ratios, to use net quantity for buys
2074eb6a9 Adjusted XIRR for Reinvestment amounts
564ffb6f4 unverify remittance is not to be called when remittance is deleted
48e6f1b90 Moved touch investor before remittance creation to prevent deadlock (#684)
82174b0a5 Fixes for Fund Ratios, adjustment for StockConversions (#683)
e4dff751e Do not delete old backups - this is now done via S3 management rules

V8.0.62
#####################################
bff7aea08 Used gross_payable_cents instead of amount_cents for dist payments (#681)
511df6291 Rubocop changes

V8.0.61
#####################################
acf97a4a7 Upgraded gems



V8.0.59
#####################################
f00d54bea Removed old xirr call from ruby xirr libs
951953872 (tag: V8.0.58) Added better log stmts
c7303205b Disabled even_channel, as new rails does not need it
19d51fd03 Better configure_grids? policy for FormType
f19552e03 Distribution new computations (#679)
c4ac0e5b5 Added check before showing link in remittance payment notification email (#675)

V8.0.57
#####################################
ee42c7bb6 Better support for approval failure msg
daee06a96 Added check for unapproved docs for call approval
5f2cfbbd3 Disable upload remittances when call basis is not upload
c40091018 Added tests for incoming email (#674)
bf5270404 Fixed distribution tests
6769cfde6 Merged distribution fees
645654e18 Added investor category and sub-category in kyc excel download (#672)
37751f6d2 Idfy amlv2 (#655)
f6a447615 Fixed exchange rates dates
d214443ac Sync test schema
3c26ef14c Added delay before validating investor entity update (#661)
8864fa996 Named dashboard (#671)
f0bdae54d Feeder fund1 (#669)

V8.0.56
#####################################
645654e18 Added investor category and sub-category in kyc excel download (#672)
37751f6d2 Idfy amlv2 (#655)
f6a447615 Fixed exchange rates dates
d214443ac Sync test schema
3c26ef14c Added delay before validating investor entity update (#661)
8864fa996 Named dashboard (#671)
f0bdae54d Feeder fund1 (#669)

V8.0.54
#####################################
0c73c7155 Fund unit reason format update (#624)
0ae9590dc Deal inv form fix (#666)
991f3d487 Renamed Investor col as Stakeholder
eac49ebf1 Fixed debug statement
574096b20 Renamed Investor to Stakeholder
06823c395 Added download for FUS
5b5aca1c0 Fixed API IRR chart
4d06e14e0 Upgraded gems
455ff1ce8 Fixed access rights to employees for investors
94df1e357 Added FixCountsJob for import Remittance and remittance payments (#630)
ee425bad3 Employee can see investors only if they have investor read access
77e8873a8 Fixed default order of fund dashboard

V8.0.53
#####################################
74fde1d75 Fixed fund ratio tests
4ecd68cbb Added separators for chart values
1519c3ce5 Better fund ratio filter btns
5e5d53050 Added better fund ratio calcs for portfolio company
3e7ae49ef Investor update PAN fixes1 (#665)
45c715fcf Added Emails tab to investor, and New KpiReport action
93eea9d1b Added new widget component
a79f223b6 Portfolio dashboard (#664)
ebd7a1519 Avoid adjacent colors repeat (#663)
de65ff19b Fixed grid view pref tests
277f34e9f Allow 0 quantity for PI create
7aed2192e Added new PI btn in API show
fb5fccf66 Added investor search by primary email
21e78004f Added -amount for PI for AG grid

V8.0.52
#####################################
e3718cf57 Better details on grid view preferences
58e12f4b8 Added events/form
3ede2f192 Fixed cost per share for PI grid
06408f03e Added moment.js to format ag grid date cols
6a00dde53 Added custom_fields to PI jbuilder, now shows custom fields in PI ag grid
6e5f83577 Added better PI ag grid
8aa39f870 Added deleted access rights in investor view
986572931 Fixed access rights tab for investors
2a57c29a2 Added tag list to create access rights (#662)
d1a36c550 Added remittance fees computation fix
81df1dd20 Updated msg for commitment doc gen, move investor entity update to after commit (#660)
4e133f161 Generate reports with folders under Funds
2f4729705 Renamed Note to Remarks for deal investor
08bf1b63f Use Default columns fix (#658)
9c9cba2fc Generate reports adds kpi and api to report (#657)
00e0b79ff Ag grids custom columns (#637)

V8.0.51
#####################################
cc4b50d7f Made ratio col optional in the card view
884ba85d7 Added more widgets to Fund dashboard (#656)
e2b5df860 Fixed bug in investor dashboard

V8.0.50
#####################################
bf9312c70 Fixed bug with fund dashboard
d674d1eac Added migration for Widget names
0b560d722 _form partial for Events (#654)
ec8bdc37d Added notes to deal investor
a0320d059 Investor dashboard (#652)
7da85955b Broadcast update flag to UI only when relevant data is updated in Dat… (#651)
986a3a984 Added menu for IR Dashboard

V8.0.49
#####################################
626fe36eb Added widget validation for tags
59e6eb862 Fixed finding dashboard widgets for entity
5de26ba6d Investor entity update fix (#649)
8ab8d32d8 Deal investor tabs (#650)
0beec5ac2 Now investing entity is matched in fund docs upload, added error if f… (#602)
8c4908544 Docs and tasks tab in offcanvas for deal investor (#647)
7615fdfca Fixed tests with last_interaction_date
57495b81a Now enable categories for no interaction widget

V8.0.46
#####################################
69fad64be Added last_interaction_date to investors show
2f0ba8742 Added additional link if download link expires
6485b6887 Added default sort order for notes
619fba1fd Added better ransack to notes
9b9916b2b Added notes to ops dashboard
de43b973e Added No interaction widget to ops dashboard
92f06fc3c Copy values should effect only one field group (#646)
6e1d927ff Seperate action to setup logrotate (#644)
e5752dd42 Investor tab default columns fix (#645)
a13e36b59 Added ops dashboard

V8.0.45
#####################################
7226b5cb6 Remove uptime kuma from deploy
3b5ba0678 Cat3 funds basic changes (#643)
2fa2841d1 Edit access for Ratio should only be available for the once those are bulk uploading (#642)
ba8f317b8 Upgrade gems 2 (#641)
5d5ab279e Import fund ratio (#617)
1af0c4787 Fix ransack attribute for Commitment (#639)
a0be76f1f Added release notes

V8.0.44
#####################################
249e926ac Fetch pan card using owner tag for kyc, interest and offer (#614)
516aa7a67 Better footer error (#629)
f40f5f2a0 Fix for Turbo lazy load for commitments in onboarding report (#638)

V8.0.43
#####################################
7970b517e Added better not approved message when esigning fails
2f00a6d20 Download link now expires in 7 days
5a2b5d1bc Skpis report generation if report already exists
4edafd112 Added report generation from KPI report

V8.0.42
#####################################
8b62bab96 Cache custom columns (#635)
385998506 Kpi report custom fields and import (#634)
272edf444 Added better rowGroup param for base_ag_grid

V8.0.41
#####################################
36372af73 Minor fix for table headers
962e3ea3e Portfolio shown in AG Grid (#633)
2c06e3d21 Changed remittance partial to fix bug with verify refresh showing incorrect cols
061ffa288 Allow for remittances to be recomputed when remittance payment is deleted
6bb3e67eb Removed restting of permissions for user on update
591e1f757 Kpi no investor login (#632)
60527856f Disable table header cache (#631)
67c4174e6 Logrotate (#600)

V8.0.40
#####################################
addd02642 Check exact doc names for doc gen (#627)
16f4eb1b4 Header cache fix (#626)
30cf25968 remove check to disable filter on docs report (#625)
9ee73b6a2 Fixed sorting by date for documents (#622)
5efb717ae Commitment card buttons (#623)
0af5e7653 Added datatable search box to investor access (#621)
a4faf1c9c Generate report nil check (#620)

V8.0.39
#####################################
23f78e76e Added folio id and Investing Entity to remittance download file (#618)
c5978cbe6 Run ImportFixCountsJob before API save (#619)
ece78e377 Solid cache fix to enable page caching (#616)

V8.0.38
#####################################
9eb50ce11 Doc generation validations (#603)
89b30b6e6 Investor access search (#613)
35ff32fc9 Downgraded aws gems
43520ea26 Make cc list comma seperated instead of an array (#610)

V8.0.37
#####################################
c39c778f9 (HEAD -> main, origin/main, origin/HEAD) Cascade rights delete fix (#609)
af094137d Updated test schema
54be3a78f Added Viewed by to docs (#608)
11ba2fc07 Updated doc controller to show docs if access to folder is granted (#607)
134399747 Kpi extractor refined
6b0ed8b19 Lock allocation runs (#590)
1ad0a44d0 Removed rswag
2b144815e Added additional grouping for commitment reports

V8.0.34
#####################################
c83ce2706 Funds tests pass
c8d540276 Fund Dashboard with better customization (#604)
da02a390a Added delay for esign process to complete before validating (#599)
26ab5b3e9 Fixed doc gen esign specs (#598)
1d0cd2272 Fund dashboard + Upgrade of Gems (#597)
0b35a70e1 Backup

V8.0.34
#####################################
7bffd2da2 Fixed test connection pool
d3b68c514 (origin/main, origin/HEAD) Replaced AE unique index to add parent
623f99268 Skip remittance creation on call basis upload (#580)
0c290c270 Playright integrated for new tests (#596)
321f2ac1e handle deleted owners in imports and validate on create (#561)
13e6cb5c6 Digio logs (#583)
4a467727c hide kyc documents dropdown and reminders button in details tab (#591)
3d771f2d4 Fixed board tests
95339959c Fixed class name for query
5499914dd Fixed query with class name
beb5eb701 Added Sqllite for testing (#593)
36e910e53 Updated how verify pan job handles failure response (#592)

V8.0.29
#####################################
3a0726f76 Removed 50 char limit from fund formulas form, now uses 125 char limit from model (#578)
52e72e7fe Hurdle rate in commitment (#577)

V8.0.27
#####################################
686221cb7 Archived old migration
aaf2bcf07 Added unit type to commitments group filter
ce71f8768 Added sector to PI group filter
dc557f798 Added col aggregates to adhoc ag grid
26e13a036 Added group filters for AccountEntry, PI and Commitments (#576)
308ad8c51 Added better group by names, for pivoting
10340ba1d Added polars for pivoting account entries (#575)
e0fabe3db Grids test fix (#574)

V8.0.27
#####################################
8af14334b Fund units check (#573)
266f85e5f Columns remap (#555)
c85d3c7c0 Added code to hide unapproved docs from investor for capital commitment and kyc (#572)
52080399f Kyc validation tests (#571)
5ddc079f8 Increase Template name limit to 50 for AllocationRun (#570)
7854af2c3 Added KpiExtractorService to extract KPIs from a csv (#569)
ef67e4279 Add folio currency amounts in doc gen (#568)
51defb214 Allow other lables duplication in esign (#567)
2bc67cfc1 Add folio currency amounts in doc gen (#566)
a8ad47e11 Uniq signatures (#565)
5d007476b Fixed alerts

V8.0.26
#####################################
f44eaf7f6 Added migration to change force esign order default to false (#560)
a95641392 Update zip expiry to 1 day and its msg (#559)

V8.0.25
#####################################
3c367ae56 Kpi spec fix (#556)
57d4d786a Fixed folder name normalization
1992c5ab7 Docusign updates 1 (#537)
3c1c8da39 Remove collected_amount_cents positive check in capital remittance verify (#551)
a5197251d Dont call setup_folder_defaults before_create (#550)
b7b21b079 Added check before render markdown in documents qna tab (#554)


V8.0.24
#####################################
e21098512 Show tags in ai_checks checklist
89cecfe3d Fixed bug with data manager
7177543c2 Add Ai rule label, and checklist format, multiple run screens for Checks (#553)
819e30ae6 Integrated fabric with doc qna
9f94e380d Archived db migration

V8.0.23
#####################################
ae64108b0 (tag: V8.0.22) Add isin in bulk import (#543)
d02725558 Used turbo frame in generate-all-docs view and distinct instead of uniq in controller (#547)
1d99f2770 Added better sort and search for ai_rules
7ddb6b8d7 Added better audit logs for the compliance manager
f565d631e Single investor soa (#528)
7cd0c6f47 Calendar tasks, created post event creation (#544)
e6317499d Added better handling for where and sum for the ai_data_manager
9137b2963 Added internal QnA
378c81fae Added DocAsImage to AiAssistant
2b5b6a294 Fixed report generation name
c3318cbba Added sample AnalystReportTemplate.html
278761e09 Now allos choosing template for report gen
a63acde94 Added job for all API AI reports
ced682a8d Moved ai jobs to ai_checks sidekiq queue
c4c77b9f3 Ai checks refactored (#542)
66d031a8e Better error for mime types which are not supported
9fcb59122 Better API reports (#541)
9da395102 Portfolio reports from global templates  (#540)
95717c64d Added compliance AI (#539)
187ecf142 Fixed Account entries rule_for for import, updated excel (#538)

V8.0.21
#####################################
be84e8899 Allocation fix to support import_upload_id (#536)
606ff2123 Removed global variable added for testing (#535)
a62c69dfe Better policy for folder reports
9feb0e769 Bulk Import for allocations (#523)
c4b50dbb6 Folder job fixes for bug which Tejas experienced (#532)
9bcfef69b Now call_amount for remittance can be < 0
335f4aa39 Portfolio llm report (#534)
f3ec5604b Added includes to load associations
252063d56 Interest verificaion fixes main pull (#533)
914648517 Added Rule for in account entry import
097e2aa36 display custom fields in CDP
94a072460 raise errors if fund or CD is not found in import
c77dbc0eb Merged docusign
5c87fc76c Added custom fields to CDP
9fea1477a Make esign text consistent (#530)
136cba7d2 Handle parallel document folder creation (#529)
7c83a90df Fixed details block for access rights mail template (#526)
aaa515e57 Added isin to FUS
8dc935cb0 Fixed search by tag in fund formula (#524)
69658e919 Send email btn now present in interest
8b7a576e8 Digio param update (#519)
af08a78ae Ag grid custom cols (#522)

V8.0.17
#####################################
c12f4b5a9 Added audit trail for allocations
c3fd6cf08 Added secondary_sale_id to bulk actions for allocations
e58a87acd Better timestamps in xl downloads
133e7e9e1 Added verified to the interests grid
86603c1d2 Fixed custom_fields in XL download for offers
22e8f315b Fixed custom_fields in XL download for interests
9d86c3a87 Fixed bug with un allocated pi
01dca4d74 Auto add rm role to RMs
4ea85245a Added initial changes for pro rata allocation
afb7dd11e Tracks short_list_status changes
1365fc2b0 Fix for unallocated pie
db0c3ad32 Formatting fixes in code (#517)
53f4ed516 Folder path update (#498)
fae2a94b7 No aggregation of price in interests ag grid
7fb6ad924 Fixed breaking docs tests
dd50bfb3f Added others to pie chart by quantity for interests
3de40f439 Removed interests from other unused code
484c20cd2 Fixed short listing without validation
e9091f186 Fixed import of offers and interests, directly from downloads
81781dfdb Fixed sales with no managed interests/offers

V8.0.16
#####################################
891dd2a00 Added ability to withdraw an interest
bf9bef44d access docs tag list if it is present (#505)
bef1ac403 Remove holdings from sale (#504)
4609bf9cb Removed unwanted tables
0fbb8a74e Ensured prod data fits into new Sale changes
87ae73f39 Do not allow delete of verified allocation
880ca3de4 Fixed Allocation.build_from to allow for price
bf1568439 Added new allocation for company admin
f2623e72e Secondary allocations (#503)
638c98b0c Removed dead code from for_investor

V8.0.15
#####################################
982a1a4cb (origin/main, origin/HEAD) Custom Grids test fix (#497)
92cf2324f Merged commitments grid
072a4e035 Sort link fixes (#496)
da2c9b947 Fix Kyc datatable
881a8d98d Sort by catergories
8a70b8b7e Grids sorting fix
6f28ac95d Decorator changes for sorting
0c185df2e Commitment search fix (#485)
b9a0f9ef5 Remove upload id drom API index, update API turbo frame name
86d28a109 Fix sorting issue on PI index page, use turbo frame on instrument show page for PIs
b546aa7d4 Fix sorting issue on API index page
b70047f64 Fix sorting issue on API index page
fcc321fdb Pass turbo frame to ransack header
c461a2892 Added elastic search for PI, fixed search component for PI
e263beb19 Search component change for investors
31b8d41d8 Search component change for investor_kyc
f530fe50a Fixed APIs search component
9cd0e3057 Search component change for investors
d6545056b Fix pagination issue in turbo-frame

V8.0.13
#####################################
b5981e2a7  Merge pull request #474 from ausangshukla/kanban-cleanup-combined
a88bd789b Restored owner_type form
56ec6dd89 Fixed Tests
6d63a5a54 Command pallette (#475)
ef558af74 Remove kanban deal path
d0dadd3f8 Fixed links in API
b7f13382f return columns for headers
df230e13a Removed unwated files
95148b33a Custom columns for CapitalCommitments

V8.0.10
#####################################
f5bee3be9 Now employees cannot add PIs to read only funds
a3c7489ea Added validation for 0 quantity on create
6713573a4 Now can create valuation only if the owner can be updated
cbe723b53 Notifier check for deleted model (#472)
7c887e26e Capital Distribution payment tests and checks (#471)
4687d8648 Added columns_map to RansackTableHeader, to allow overrides for cols
21b7a55e8 Added mandatory instrument for valuations
a2e8c4c5d Added XL download in PI filter
97425a9a8 Fixed errors with fund doc upload

V8.0.10
#####################################
6c3d36da7 Refactored doc llm validator
0ee5c5b49 (origin/deal-data-room-IO-fix-3) Remove comments from policy
07e0893a6 Bugfix - Deleting Access rights now updates cache properly
aff0c987f Fixed fund_import error
d9f14cfb5 Merged remittance reconciler
fd710dabc Import cc fixes (#465)
b8dda54f8 Stock adjustment button now visible, Uncalled amount now shows with currency units (#464)
70bfc47ca Ratios changes (#463)
d030f7c19 Added better multi page pdf to image conversion for llm doc validation
8b5a79911 Call and events bug fixes (#462)
11669081c Added specs and missing update deal operation
aa48398f2 Policy update - user for investor and for employee in DealInvestorPolicy
0d3a2faab (origin/deal-data-room-IO-fix-2) Added deal preview button on board and grid view
47174f8af Added Deal preview with widgets and track record, added deal docs in view for investor, now deal investor uses deal for accessrights, policy and scope
f38adcde0 (origin/deal-data-room-IO-fix-1) Added trailblazer operations for deal and deal investors
a51e74f69 (origin/deal-data-room-IO-fix) Remove IO link from deal

V8.0.9
#####################################
b8ded81b5 Fixed saving of only extractions to model properties for llm doc validation
70bfc47ca Ratios changes, fixes for cumulative=false (#463)
d030f7c19 Added better multi page pdf to image conversion for llm doc validation
8b5a79911 Call and events bug fixes (#462)

V8.0.6
#####################################
35f00c176  Archived migrations
6a0400d7c Capital calls improvement (#445)
f39be0727 Whatsapp webhook1 (#450)
8f29ed8e0 Cleanup of report prompt
61b1db57a Better investor filters
fd4ad9de4 Added unzip to packer image
e8613fec0 Document send notification now not restricted to owner
442de783b Fixed issue with access_rights_cache for investor advisor
f254e4548 Added check for enable_user_llm_chat
406f70ef5 Better llm chats
f88edc10f Better deploy docs
728bd8394 Backup of maintenance page
65ecdd565 Fixed the AWS REGION in .env

V8.0.2
#####################################
dbc006507 Fixed misc bugs with IO
7f3769036 Fixed bug with new EOI
5ad22dd82 Recreated the dev env
c319a34f4 Setup new ips for dev
74810ee1c Reset the staging IP address
2a43c6780 Improved docs

V8.0.1
#####################################
807bb61bd Fixed bug with API policy
c540d7d75 Added observability and db packer files
f20415312 Added better support for capistrano IRM:setup
987c6d9f1 Added appserver.ami.pkr.hcl
12a3d29ce Added node exporter config
32cfb688d Added better support for offer.applied_price
43459f1b9 Better docs to start observability
ec2d3d18b Observability (#447)

V8.0.0
#####################################
Mulitple changes for policy via access rights cache

V7.1.70
#####################################
f5b268713 Removed holding from offer index
7cd813446 Fixed bug for notes in CD
a8cf85b13 Removed cards from call stats
4624b5cf9 Better fund stats
25f9b2b7d REmoved entity col for funds
21c2b55dc Added Face Value For Redemption for CD download
1b5e988c9 Added notes to CD
d2e77cd6f Added Face Value For Redemption to CDP download
6883851e9 Removed CDP computation from grid
6e7d5ee1e Added better validation for form types

V7.1.68
#####################################
cbc206930 Added tag to formType
c3970eb95 Moved template gen buttons to allocations page
0f1d6961c Added offer docs tab to interest show page
6a2ae8434 Added generated_document_name to doc generation
be4a1c061 added disable_number_field_arrows to validation controller
acea561c7 Advisor cannot see notifications
94fec095a Interest dashboard (#426)

V7.1.67
#####################################
95613c77d Passed ctx to save_rows for imports
1be97dab6 Removed support email as mandatory
76c769489 Added signed_document_already_exists? check for doc generation
060e3c789 Added better support for attaching documents for custom notifications
7c6a7c93a Added import of offers without holdings tests
1cb3ee171 Made holdings optional in offer

V7.1.65
#####################################
dbfe9a49c (HEAD -> main, tag: V7.1.65, origin/main, origin/HEAD) Import upload custom grids fix (#415)
475119fc2 Hide tasks ans IA from advisors
b67a9506f Added better investor access check in noticed
0c0e9ee07 Deals updates (#399)
ec6ff2fe0 email_enabled set to false for investor advisor upload
55d1f7826 Removed unwanted data from user profile
6125a9c7f Now InvestorAccess is not visible by employees

V7.1.64
#####################################
5b16111df Fixed IA defaults to email_enabled=false for advisor imports
2b33e16d1 Reverted account entry changes
16780e1fb No advisor emails (#406)
fe8158575 Added import of interests

V7.1.63
#####################################
da0e9a7bc Creating zip with shortened name to prevent windows extraction error (#404)
76d117a27 Added warning to money show if no currency found (#405)
e4f268492 Added Add Fees btn to call edit
e2e64fada Added check for rule for when creating account entry
86ec2a112 Added wati and esigning process documents (#402)
880650753 Changed element path for tests (#403)

V7.1.60
#####################################
28624d2bf Removed after_create send email for capital_remittance
f67c4b453 Updates call approve msg
14624beeb Renamed title to Distribution from CApital Distribution
79033582c Fixed the color for header and footer for emails
325550bc4 Added tag list import for fund formulas
89efc3769 Added Folio currency to commitment ransack search
8dedd135b Added InvestorKycConcern
2d7541cb9 Moved card btn to point to fund instead of commitment
fdb609c86 Added validation to base amount

V7.1.59
#####################################
41062f5b5 Basic fixes for 'Stakeholder' label
e1db653e4 Grid view main (#394)
0a5610db6 Add no template error notification (#393)
278d21244 Added remittance payments amounts in soa generator (#390)
e9006f041 Check deleted or destroyed for after_commit callback (#376)
079087c74 Added error notification if no template found for commitment job, call job, soa job, eoi job, spa job (#391)
cb9efc3e9 Removed remittance computation display
4ab349e27 Download zip fix (#388)
d2ceafef3 (origin/ia_wa, ia_wa) Now we need both IA and user WA enabled to send WA msgs

V7.1.58
#####################################
290fc2671  Document zip download (#377)
cfefe6068 Misc fixes
277dd9558 Added call common fields into partial
de4f3c180 Delete notifications when CRP is deleted
14c01039d (tasks_engine) Calc call fee (#372)

V7.1.57
#####################################
2b1b4e90a Added enable_exchange_rate_commitment_adjustment to entity permissions
e907a8143 Added capital_remittance_payments_before_end_date to SOA generator

V7.1.56
#####################################
6d7876f47 Added filters for API
4132f9201 Added ReportingComponent to portfolio
6a73ac5b1 Call notice flag (#369)
8f046902c Added millions formatting to other currencies
f8a1b11c2 Lazy load access rights (#368)
3f09e6210 Added grant_access_to_fund to commitment, and handle in post process in import
d5eb034ed Check for cascade and folders or docs before FolderAccessJob
ba41c4005 Fixed error for committed_amount_cents_before now takes only topup adjustments
81757bd24 Cleanup of rubocop issues
c6ca413cc Fixed ordering off documents appended to commitment doc gen


V7.1.52
#####################################
3029e9cb8 Added get_account_entry_or_zero for cc account entries
22dbca68a Added xirr gem back
5ecc9d461 Added maintenance mode in recovery
93ae818c1 Usetiful integration and nginx rake (#358)
4be29d7ef Deal investors index fix (#357)
2ed4d00ad Fixed timeouts for AMI creation

V7.1.51
#####################################
2ed4d00ad Fixed timeouts for AMI creation
c0fb32bb7 Fixed errors in offer bulk actions
963aced42 Handled nil case for sanitized address for offers (#353)
f0072f8c3 Added boolean_custom_field_ to TD
732502f33 (origin/iu_filters, iu_filters) Added ransack to Import uploads
eea00e8b4 Added json_fields copy in PI conversion
f85778c7e Fixed bug with Document Downloader Job
8947b8957 Changed cron times back to IST
8f2ee9f45 Fixed bug in S3CheckJob, source bucket name

V7.1.50
#####################################
bea0ffbc2 Fixed document policy, to support employee users
ac900d3ec Added file deletion in ensure at end of db backup (#351)
a7cb30ff6 Merge pull request #350 from ausangshukla/sidekiq-cron
d4e4e887c Added better way to generate variable names from ae.name
9998784f1 Moved rake jobs methods to Jobs for sidekiq cron
ac758a1ef Cleanup of dead code
06aeb5774 Moved all morning jobs to DailyMorningJob and using sidekiq-cron
32176795c Changed cron times to be reflective of IST

V7.1.48
#####################################
13251803e Added title to approval response xl download
c2312612c Check for duplicate headers
2e1e7bd19 Added no password login to entity setting
53db01b29 Added cc to error emails
e1196af59 Added CommitmentTemplateDecorator
6507fdd0c Added policy to enable employees to see unapproved docs
240f81ec7 Added ExchangeRatePortfolioInvestmentJob
56a01afb4 Added advisor payout show and download
21db032de Better check for percentage_complete in import_calls
4a70cb804 Soa template methods (#344)
a918f3c15 Testing for Infra setup
ea72cbe61 added sanitize to TD
c2be2b8a2 Allow CD approval by company admin
7d2461a46 Remove Offer Id and Update Only from custom fields headers
44166f06b Normalize offer address
524025e0b Santized property in template decorator (#342)


V7.1.44
#####################################
4e66fa927 Fixed better case insensitive check for offer completion
6fba756ce Fixed tests for remittance
4cb261729 Deal funnel chart label color (#333)
bda1cd61a Remove account entry search index (#332)

V7.1.41
#####################################
60e361d6e Changed offer copy_docs to use attached docs
73c2779ad Allow support to edit investor
105627715 Other fee breakdown (#330)
47c57cdc3 Show offer full name in card, if present
20b9a1917 Added sanitization of doc names in docs_to_generate for offer SPA
c5cb3a155 Added docs_to_generate custom field for offer SPA generation (#329)
b8f67d7df Added CapitalRemittancesCountersJob to remittance import
6a3e56fd0 Added explain to each formula (#328)
336db1793 Added index to the model
c60e75d56 Fixed test case
2926e9df2 Used fund reference to get APIs in stats (#327)

V7.1.40
#####################################
a216e8e63 Fixed Account entry search, with filters for fund and commitment id
2f51c1049 Custom fields for remittances (#326)
2e9015e44 Renamed to call_amount_cents_start_end
73899599f Sequence migration (#325)
6bf38a31d Added pan verification partial to offer view
450f9ff67 Added template header and footer to offer

V7.1.38
#####################################
a13527443 (HEAD -> sale_fixes_1, origin/sale_fixes_1) Added offer_steps
b12d2a350 Added offer_steps
a02f4a1eb Fixed rubocop errors
ede123ff6 Allocation job now gives realtime updates on progress
9eb697e3a Changed steps for offer card
a7e6b644d Show investors offers on dashboard, for only active sales
e9cd0f0bf Added ransack for holdings
cc556ba0e Allow support to edit and view sale for admin
9f4181ad4 Better message for Accept SPA email
          Better support for unfilled mandatory custom fields, errors

V7.1.36
#####################################
4fb8bd349 (HEAD -> main, origin/main, origin/HEAD) Fixed tests for remittance
e2f37ce32 Fixed SANDBOX_EMAIL
c84777c8c Fixed other_select for call fees
68766a12e Call recompute and formulas (#316)
fc9cedd67 Fixed matched_offers

V7.1.35
#####################################
aec90630a Now docs download has a popup alert
fa9c3c800 Added support for entity and user policy
68215505e Secondary sales fix 2 (#315)

V7.1.34
#####################################
7ce0f43e7 (HEAD -> main, tag: V7.1.34, origin/main, origin/HEAD) Offer added ransack search in allocations page (#314)
02846692c Added misc fixes, to hide % holding etc
4414041b8 Added offers to vc_dashboard
87d90a603 Fixed policy for support?
ee264b775 Fixed commitment policy to disable support from update
934990841 Added lazy load for AE tab in commitments

V7.1.33
#####################################
0fc1fc7da Secondary sales esign fix (#311)
1454b1825 (tag: V7.1.32) Deals/fixes (#312)
497eda468 Fixed buttons for offer card view
1b8423aa0 Fixed issue with blank instrument_ids in valuations
72adaef71 Fixed bug in documents_bulk_actions job
ef29b136c Sort aggregate portfolio's Pre share value chart's dates (#310)
dbf524144 Offer card view for investors (#309)
919617612 Deals additional features (#308)
437570230 Fixed administrate upgrade
e3a187e7e Backup, fixed templates for admin
787802921 Upgraded gems and ruby 3.3.3
f46488d95 Changed Staging SES key
1129bbe6f Fixed .env.development, removed ngrok
ae25d742a Send grid (#306)
f6c669a09 Kanban fixes iter3 (#305)
12ba6725f Account entry es (#303)


V7.1.31
#####################################
8e0bd5788 Added committed_amounts between_dates
f303100f6 Added committed_amounts struct to SOA gen
d0d1396eb Fixed CR verify display issue
95d565619 Better lazy loading of investor tabs
54accd510 Rotated SES key

V7.1.26
#####################################
99782a03e Fixed bug with Exchange rates and api not getting updated
8bdfbc8a8 Added adjustments to SOA
c04c51bf1  Added reg_env to ES dashboard
92e371904 Removed unwanted code
5420cc740 Added FU amounts in index
ed5d2c29b Added bulk_inserts for account entries in Allocation engine
479a3639d Added better indexes for remittances
b3624a51d (tag: V7.1.26) Added amount
9f987789a Fixed FCF.to_name to remove dup _
4f47fe418 Now attaches only generated and approved docs to call remittance emails
b3844d333 Added investor access approved check for kyc

V7.1.26
#####################################
b3624a51d (HEAD -> main, tag: V7.1.26) Added amount
9f987789a Fixed FCF.to_name to remove dup _
4f47fe418 Now attaches only generated and approved docs to call remittance emails
b3844d333 Added investor access approved check for kyc
1830be137 Merge pull request #298 from ausangshukla/boards-ui-fix
5627665a9 (origin/boards-ui-fix) Sidebar boards icon in dark mode

V7.1.25
#####################################
e6202c83f Formula metrics (#297)

V7.1.23
#####################################
57ad7a654 Better documents delete for support
95444d29e Change unit_type length to 25
25fec72a3 Fixed policy and spec form input (#295)
d548cd94c Kanban fixes (#294)
b6ea4679f Better link to exchange rates sample for import
d273b3dc5 Added stock conversion reverse to UI

V7.1.20
#####################################
02d0a29cb (HEAD -> main, tag: V7.1.20, origin/main, origin/HEAD) Updated policies (#292)
e459a7cb4 Added migration to update nil json_fields to {} (#290)
99bad6278 Added better frame param for Access rights to support to/for investor access rights
a9fa6f6ae Suppressed update_all rubo error in FundFormula (#291)
2201e3b8d Added investment domicole to show page
43a7c43b2 Added access rights to investors which are portfolio companies
4a2c7fef0 Fixed issues with currency validation for PI create

V7.1.16
#####################################
70e1944c9  Reverted SES keys
ed3c9e9b5 Kanban board (#265)
77f8b48da Added SES prod key
e4dc2bf20 Added user.support? to enable support user who is impersonating to access support capabilities

V7.1.15
#####################################
a97ad9fdd Fixed tests
726280600 Enable fund formula buttons (#287)
5fa375ad6 Conditonal view for formula
28f372155 Fixed investors kyc form for reg env
c5e7dbc37 Fixed investors form, and IA form for phone numbers
01edbbfa8 Added Labels for reg env
c36efa4a1 Enable fund formula buttons (#285)
630ab1cec Allow support to update the formula
cce9a6fae Fixed new fund test
73f16db04 Added fund close dates (#286)
565f3ce21 Enable normal users to enable and disable
a4ebc7c0b Added better tests for bulk actions
1bc8efa5f Added tests for kyc bulk actions

V7.1.14
#####################################
9d8c64b30 Added better validation for fund units
c43ac5bb1 Account Entry Bulk import failed fix (#284)
ab3306ce3 Allocation engine, now takes commitments before end_date only
06bd0169b Added asset logger
925f032ec Added tests for kyc reminder
07495201a Fixed send kyc reminder

V7.1.12
#####################################
75c998b04 Fixed Upload Only flag in imports
75c39d5b8 Update capital call card width (#281)

V7.1.08
#####################################
b780affc5 (HEAD -> main, origin/main, origin/HEAD) Abhay/bulk import exchange rates (#268)
bb31379ee Agg pi search (#275)
5a8195a3f Added length validation for agreement_unit_type (#277)
7cdc18d19 Misc changes, to doc sending, kyc bulk msgs
04115c51f Merge branch 'main' of github.com:ausangshukla/IRM into main
64aa83269 Commitment card fix (#276)
482a80f51 Added better message for fund ratios
26a3a1c6b Removed saving cashflows for XIRR
d2838c69f Removed cashflows from Fund Ratios show page
c382f9d7f Removed trackable from FundRatio
ccde9a5e9 Added staging host to depploy
54901c7da Better error handling for instrument creation in import PI
84ce31931 Added valuation only when buy is created

V7.1.06
#####################################
5b84cee04 Better allocation engine with better RT updates
55510ea4f Delete old account entries on allocation run
3b40abae1 Added index to account entries
5c76c7222 Fixed sorting for API instrument
26e51578f Added better from_quantity validation in stock conversion

V7.1.05
#####################################
08a4e736c Added explain to run allocations
efb92f358 Fix for stock conversion, multi currency
9907f64c9 Fixed bug with stock conversion multiple conversions
b22d8ed02 Fixed bug with calc of base_amount for to_portfolio_investment
33c5c13fe Added conversion? policy to PI
d4c9965c5 Fixed portfolio tests
c7dfa907e Added conversion? policy to PI
b6b02e4e2 Now rollup net_quantity of PI to quantity of API
074381cb1 Better link to portfolio company
289f98013 Added sidekiq restart post deploy
7b4e4069a Added Show conversions button
aafb1609c Added UI for stock_conversion
ab82dd24a Added stock conversion
0701436a0 Fixed date format (#272)
4d20b9aeb Added Valuation creation when PI is created
4562e6907 (origin/main, origin/HEAD, main) Added fund docs to the investor view
3150d2002 Added fund docs to the investor view
5ee671eb9 Abhay/grid view fixes (#270)
9fe6f77e0 Reverted capistrano sidekiq
af782fa44 (tag: V7.1.04) Added agrement unit type to investor kyc upload (#269)

V7.1.02
#####################################
e987a5279  added disk_check
aba1e7a7f Kyc sub categories fix (#267)
8984f3eca Added parse_statment to fund formula for better explanations
5c68d51fc Fixed bug with AWS region

V7.1.02
#####################################
5ca133dbd Added funds import
4878df000 Hybrid fund approval (#264)
f96732402 Better title for allocation_form

V7.1.01
#####################################
45a5e1d51 limit-grab-to-kanban (#263)
0e48dc44a Moved counters computation to CapitalRemittancesCountersJob
294299d2e Added filtering by tags for funds
d90094c73 Hide allocation fields when not required
2705c3cd3 No creation of custom fields for CRP import
47815dbbc Added ability to run only SOAs

V7.0.97
#####################################
ad2cad156 Increased fund unit types to 255
31c97a37d Fixed update of calculation by non support user in FCF
933eb4845 Added sidekiq scheduler and replication health job

V7.0.96
#####################################
d477c9805 Added custom notifications documents
b3bfbf7dc Added entity_name to kyc grid for investors
c40a8d015 Added uniqueness contraint for valuation
64c38247c Abhay/deals kanban (#255)
0a858fa0c Added TD to custom fields
39dd833e1 Fixed bug with audit_trail nil check
2b25dd7ed Fixed documents access rights form

V7.0.91
#####################################
50c0310d4 Optimized kyc doc gen, better XL download for PI
f70b14dc0 Fixed account_entry to use CustomTable
8424d09bb Changed solid_queue settings
61f24940f Added post to generate_fund_ratios
6af67ca4f Charts bug fix in portfolio tab (#256)

V7.0.89
#####################################
fce9e6db7 Import formulas (#254)
1e7d6db07 Turned off ReplicationHealthJob for staging
c247675ee write and read from the primary database only
e149b13a6 Fixed the issue with KycData.create in show
d0df94500 Fixed the issue with approval email response
e9a4cda41 Changed fetch_esign_updates to post
6919baa13 Fixed the issue with folder creation in show
abffcf728 Removed impressionist gem
7602d1df3 Datalist fix (#251)
bf832e3a6 Added Support for warning, when login by support
549e9ae67 Added trackable to AccountEntry
ae889e05a Read replica (#252)
f41fa4621 Set Chewy.request_strategy = :active_job to reduce ES blast radius
0bc2b721f Better tests for doc_gen
12ea2dd3a TEst for kyc name in the SOA
622e8c923 Solid queue (#249)

V7.0.88
#####################################
d4fae6554 Datalist fix (#235)
87ca13b81 Fund unit transfer (#248)
16f95c9a3 Better notification from DocumentDownload Job
578fc8f02 Doc gen, append model name to template name, for file
c89983d3a Btter pagination of audits
87a9d138b Changed folder path for Remittances and Payments
c8024fe0e Minor UI changes to call form
8273dba78 Added audit_download_job
4c004e105 Server side sorting (#240)
0b67375b2 Added fund doc generator

V7.0.82
#####################################
771aced4f Fixed SOA generator
0c6eca2f3 Added help text for show_details in CN
f90165d8c Added created_at to kyc ransack
6d1fd1394 Added audits page
44c0b21bf Fixed bug with errors on allocate distribution
84ede3922 Enable fund formula edit only with debug flag
0bee03741 Added import of unit_prices in calls

V7.0.81
#####################################
80a808092 Allow user to edit premium for call
774eba921 cc to support for errors emails 
a0bea0324 Added commitment_type to cumulative AE
5423feb4d Added advisor payouts fund formulas
7768424b5 Added capability to capture computed capital / other fees audits in remittances
d2dcd803f Fixed investor view of IO
603476a99 Use only actual portfolio cashflows for computations
9905d65be Io changes to support features such as anonymous link etc
6ff121283 Added required queues to sidekiq.rb
873a7f45e Doc questions 

V7.0.77
#####################################
07dba47f1 Added instrument currency and corr FMV calculations in fund currency
Fixed WA messsages from custom notification


V7.0.76    
#####################################
3ff5f3022 Fixed issues with really_destroy! for secondary
cfd8793bd Validate unit_type length for commitments
8365e5ba5 Fixed issue of circular dependency using being_destroyed
a22adc9b1 Fixed really_destroy circular dependency for folders
c323dc65f Fixed destroy of calls
8ccc2f0b0 Misc fixes
98b4dec06 Added link to owner for fund_unit grid
c69f03fd9 Added create_at date for import upload grid
326c8cb28 Added CustomNotification.enabled
70b3f9ad4 Renamed 'Commitment Agreement' bulk action to 'Send Document'
f29a321ab show_details and password_protect is now conditional for custom notifications
95ed27ddd Changed url to edit for kyc notification:
03330660d Made WA non mandatory in custom notifications
ee92c33fd Fixed SOA generation owner tags
a0ba88572 Counter cache folios in dashboard (#229)
21a955c40 Added esign_emails to ransack
14935661e Component usage (#228)

V7.0.75    
#####################################
1. Sebi reports
2. Fix for remittance payment status

V7.0.72    
#####################################
1. Removed responsive grid for deals
2. Changed url to show path instead of _url in notifiers - KYC whatsapp bug fix
3. Help slide out, currently set to contact support msg only
4. Nested menus for fund reports btn
5. Better rollups of cost of sold
6. Removed Individual PI downlods from API
7. SOA folder for commitment SOAs


V7.0.71    
#####################################
1. Added latest flag to fund ratios
2. Added PI and Fund Ratios to API downloads
3. Better Fund Numbers screen


V7.0.70    
#####################################
1. Custom calcs in templates
2. Investor screen on mobile - bug fix
3. Grids now mobile friendly

V7.0.69    
#####################################
1. Moved uppy.js to inside caphive, file uploads should work inside Ambit now
2. Fixed remittance other fee, now KYC should have correct due amounts for Sirius
3. Dark theme for ag grid
4. Login via email, now retains the subdomain of the fund/entity 
5. Notifications lib Upgraded
6. Offer docs upload with Orignal Format
7. Login via email link remembers orignal location and redirects correctly
8. CF can be renamed via debug=true 
9. Added agreement_unit_type for Angel Funds

V7.0.65    
#####################################
1. Enable portfolios for investors
2. Increased bank name to 100 chars
3. Force_units for currency to enable fund specific numbers
4. Basic length validation for kyc form, even for fund inputs
5. Sorting of money cols for local data tables


22/12/2023 - V7.0.25    
#####################################
1. Made boolean fields in documents mandatory with defaults
2. Search documents for approval, email - bulk actions


22/12/2023 - V7.0.22    
#####################################
1. Refactored esign code, multiple esing emails, no users required
2. Added primary email to investor and entity
3. Call not visible to investors



15/12/2023 - V7.0.20    
#####################################
1. Added labels for Custom fields
2. Changing FCF name, causes data in models to changes
3. Upgraded to Sidekiq 7 for capsule functionality



13/12/2023 - V7.0.19
#####################################
1. Enable selection of template name for commitment doc gen
2. Enable download of documents uploaded for custom files 
3. Notification of KYC update to fund employees

08/12/2023 - V7.0.17
#####################################
1. Custom form fields name lenght to 100
2. Added other text field to esignatures
3. 

08/12/2023 - V7.0.13
#####################################
1. Added filters for IAs
2. Fixed stock adjustment computation
3. Added cc to IA
4. Added Custom notifications
5. Add cc override in Fund
6. Fund Unit reports
7. Approval for individual document
8. Better notifications in doc generator


07/12/2023 - V7.0.12
#####################################
1. KYCs UI changes
2. Face Val For Redemption included in KYC uncalled amount
3. Using FormCard across all forms
4. Formula Rerun


04/12/2023 - V7.0.11
#####################################

1. Added WA enabled to entity
2. Better Individual/Non I KYCs
3. Changed client side validations
4. Enabled file validations for forms in wizard


02/12/2023 - V7.0.10
#####################################

#### Bugs
1. Fixed bugs for import investor advisor
2. Added support for file type custom field
3. Fixed the size of forms
4. No notifications for document or folder

29/11/2023 - V7.0.9
#####################################

#### Bugs
1. Fixed document approval notification
2. Defaults false for approved in documents
3. Added uncalled_amount to commitment
4. Fixed bug in account entry allocation engine generate custom field
5. Added methods to enable / disable permissions for all investor entities

#### New Account Allocation for Acounting and Reporting
1. Added rule_for Accounting or Reporting, and every account entry will now capture, which rule was used to generate it.
2. Run rules for Accounting and Reporting separately
3. Use reporting entries in word templates with reporting_xxxx


29/11/2023 - V7.0.7
#####################################

#### Bugs
1. Better remittance email messages
2. Better templating for CDP, for Sirius 
3. Fixed approvals for generated docs end dates
4. Fixed issue with investor notice

29/11/2023 - V7.0.6
#####################################

#### Delete All for Funds 
1. Added delete all button for funds
2. Minor fix for fund col in commitments filter view

28/11/2023 - V7.0.5
#####################################

#### Import Uploads Sanitization ####
1. All data headers are sanitized to titlecase and stripped and squeezed (def validate_headers)
2. All data in rows is also sanitized by strip and squeeze (def process_rows)

#### Filter by funds in filters ####
1. Added special filter for funds
2. Allow only XL to be uploaded for import upload

#### Import Upload of fund units ####
1. Import for remittances
2. Import for distributions

#### Bug ####
1. Fixed bug for investor login commitments not loading
2. Removed unwanted button request access

