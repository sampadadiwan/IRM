// sortable@2.0.0 downloaded from https://ga.jspm.io/npm:sortable@2.0.0/index.js

import t from"jquery-browserify";import e from"events";var i="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;var s={};var o=t;s=o;(function(t,e){var s=0,o=/^ui-id-\d+$/;t.ui=t.ui||{};if(!t.ui.version){t.extend(t.ui,{version:"1.10.1",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});t.fn.extend({_focus:t.fn.focus,focus:function(e,s){return"number"===typeof e?this.each((function(){var o=this||i;setTimeout((function(){t(o).focus();s&&s.call(o)}),e)})):(this||i)._focus.apply(this||i,arguments)},scrollParent:function(){var e;e=t.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter((function(){return/(relative|absolute|fixed)/.test(t.css(this||i,"position"))&&/(auto|scroll)/.test(t.css(this||i,"overflow")+t.css(this||i,"overflow-y")+t.css(this||i,"overflow-x"))})).eq(0):this.parents().filter((function(){return/(auto|scroll)/.test(t.css(this||i,"overflow")+t.css(this||i,"overflow-y")+t.css(this||i,"overflow-x"))})).eq(0);return/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(s){if(s!==e)return this.css("zIndex",s);if((this||i).length){var o=t((this||i)[0]),n,r;while(o.length&&o[0]!==document){n=o.css("position");if("absolute"===n||"relative"===n||"fixed"===n){r=parseInt(o.css("zIndex"),10);if(!isNaN(r)&&0!==r)return r}o=o.parent()}}return 0},uniqueId:function(){return this.each((function(){(this||i).id||((this||i).id="ui-id-"+ ++s)}))},removeUniqueId:function(){return this.each((function(){o.test((this||i).id)&&t(this||i).removeAttr("id")}))}});t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo((function(e){return function(i){return!!t.data(i,e)}})):function(e,i,s){return!!t.data(e,s[3])},focusable:function(e){return focusable(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var i=t.attr(e,"tabindex"),s=isNaN(i);return(s||i>=0)&&focusable(e,!s)}});t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],(function(s,o){var n="Width"===o?["Left","Right"]:["Top","Bottom"],r=o.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};function reduce(e,s,o,r){t.each(n,(function(){s-=parseFloat(t.css(e,"padding"+(this||i)))||0;o&&(s-=parseFloat(t.css(e,"border"+(this||i)+"Width"))||0);r&&(s-=parseFloat(t.css(e,"margin"+(this||i)))||0)}));return s}t.fn["inner"+o]=function(s){return s===e?a["inner"+o].call(this||i):this.each((function(){t(this||i).css(r,reduce(this||i,s)+"px")}))};t.fn["outer"+o]=function(e,s){return"number"!==typeof e?a["outer"+o].call(this||i,e):this.each((function(){t(this||i).css(r,reduce(this||i,e,true,s)+"px")}))}}));t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?(this||i).prevObject:(this||i).prevObject.filter(t))});t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(s){return arguments.length?e.call(this||i,t.camelCase(s)):e.call(this||i)}}(t.fn.removeData));t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());t.support.selectstart="onselectstart"in document.createElement("div");t.fn.extend({disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",(function(t){t.preventDefault()}))},enableSelection:function(){return this.unbind(".ui-disableSelection")}});t.extend(t.ui,{plugin:{add:function(e,i,s){var o,n=t.ui[e].prototype;for(o in s){n.plugins[o]=n.plugins[o]||[];n.plugins[o].push([i,s[o]])}},call:function(t,e,i){var s,o=t.plugins[e];if(o&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(s=0;s<o.length;s++)t.options[o[s][0]]&&o[s][1].apply(t.element,i)}},hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return false;var s=i&&"left"===i?"scrollLeft":"scrollTop",o=false;if(e[s]>0)return true;e[s]=1;o=e[s]>0;e[s]=0;return o}})}function focusable(e,i){var s,o,n,r=e.nodeName.toLowerCase();if("area"===r){s=e.parentNode;o=s.name;if(!e.href||!o||"map"!==s.nodeName.toLowerCase())return false;n=t("img[usemap=#"+o+"]")[0];return!!n&&visible(n)}return(/input|select|textarea|button|object/.test(r)?!e.disabled:"a"===r&&e.href||i)&&visible(e)}function visible(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter((function(){return"hidden"===t.css(this||i,"visibility")})).length}})(o);(function(t,e){var s=0,o=Array.prototype.slice,n=t.cleanData;t.cleanData=function(e){for(var i=0,s;null!=(s=e[i]);i++)try{t(s).triggerHandler("remove")}catch(t){}n(e)};t.widget=function(e,s,o){var n,r,a,l,h={},c=e.split(".")[0];e=e.split(".")[1];n=c+"-"+e;if(!o){o=s;s=t.Widget}t.expr[":"][n.toLowerCase()]=function(e){return!!t.data(e,n)};t[c]=t[c]||{};r=t[c][e];a=t[c][e]=function(t,e){if(!(this||i)._createWidget)return new a(t,e);arguments.length&&this._createWidget(t,e)};t.extend(a,r,{version:o.version,_proto:t.extend({},o),_childConstructors:[]});l=new s;l.options=t.widget.extend({},l.options);t.each(o,(function(e,o){t.isFunction(o)?h[e]=function(){var _super=function(){return s.prototype[e].apply(this||i,arguments)},_superApply=function(t){return s.prototype[e].apply(this||i,t)};return function(){var t=(this||i)._super,e=(this||i)._superApply,s;(this||i)._super=_super;(this||i)._superApply=_superApply;s=o.apply(this||i,arguments);(this||i)._super=t;(this||i)._superApply=e;return s}}():h[e]=o}));a.prototype=t.widget.extend(l,{widgetEventPrefix:r?l.widgetEventPrefix:e},h,{constructor:a,namespace:c,widgetName:e,widgetFullName:n});if(r){t.each(r._childConstructors,(function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,a,i._proto)}));delete r._childConstructors}else s._childConstructors.push(a);t.widget.bridge(e,a)};t.widget.extend=function(i){var s=o.call(arguments,1),n=0,r=s.length,a,l;for(;n<r;n++)for(a in s[n]){l=s[n][a];s[n].hasOwnProperty(a)&&l!==e&&(t.isPlainObject(l)?i[a]=t.isPlainObject(i[a])?t.widget.extend({},i[a],l):t.widget.extend({},l):i[a]=l)}return i};t.widget.bridge=function(s,n){var r=n.prototype.widgetFullName||s;t.fn[s]=function(a){var l="string"===typeof a,h=o.call(arguments,1),c=this||i;a=!l&&h.length?t.widget.extend.apply(null,[a].concat(h)):a;l?this.each((function(){var o,n=t.data(this||i,r);if(!n)return t.error("cannot call methods on "+s+" prior to initialization; "+"attempted to call method '"+a+"'");if(!t.isFunction(n[a])||"_"===a.charAt(0))return t.error("no such method '"+a+"' for "+s+" widget instance");o=n[a].apply(n,h);if(o!==n&&o!==e){c=o&&o.jquery?c.pushStack(o.get()):o;return false}})):this.each((function(){var e=t.data(this||i,r);e?e.option(a||{})._init():t.data(this||i,r,new n(a,this||i))}));return c}};t.Widget=function(){};t.Widget._childConstructors=[];t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:false,create:null},_createWidget:function(e,o){o=t(o||(this||i).defaultElement||this||i)[0];(this||i).element=t(o);(this||i).uuid=s++;(this||i).eventNamespace="."+(this||i).widgetName+(this||i).uuid;(this||i).options=t.widget.extend({},(this||i).options,this._getCreateOptions(),e);(this||i).bindings=t();(this||i).hoverable=t();(this||i).focusable=t();if(o!==(this||i)){t.data(o,(this||i).widgetFullName,this||i);this._on(true,(this||i).element,{remove:function(t){t.target===o&&this.destroy()}});(this||i).document=t(o.style?o.ownerDocument:o.document||o);(this||i).window=t((this||i).document[0].defaultView||(this||i).document[0].parentWindow)}this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy();(this||i).element.unbind((this||i).eventNamespace).removeData((this||i).widgetName).removeData((this||i).widgetFullName).removeData(t.camelCase((this||i).widgetFullName));this.widget().unbind((this||i).eventNamespace).removeAttr("aria-disabled").removeClass((this||i).widgetFullName+"-disabled "+"ui-state-disabled");(this||i).bindings.unbind((this||i).eventNamespace);(this||i).hoverable.removeClass("ui-state-hover");(this||i).focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return(this||i).element},option:function(s,o){var n=s,r,a,l;if(0===arguments.length)return t.widget.extend({},(this||i).options);if("string"===typeof s){n={};r=s.split(".");s=r.shift();if(r.length){a=n[s]=t.widget.extend({},(this||i).options[s]);for(l=0;l<r.length-1;l++){a[r[l]]=a[r[l]]||{};a=a[r[l]]}s=r.pop();if(o===e)return a[s]===e?null:a[s];a[s]=o}else{if(o===e)return(this||i).options[s]===e?null:(this||i).options[s];n[s]=o}}this._setOptions(n);return this||i},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this||i},_setOption:function(t,e){(this||i).options[t]=e;if("disabled"===t){this.widget().toggleClass((this||i).widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e);(this||i).hoverable.removeClass("ui-state-hover");(this||i).focusable.removeClass("ui-state-focus")}return this||i},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_on:function(e,s,o){var n,r=this||i;if("boolean"!==typeof e){o=s;s=e;e=false}if(o){s=n=t(s);(this||i).bindings=(this||i).bindings.add(s)}else{o=s;s=(this||i).element;n=this.widget()}t.each(o,(function(o,a){function handlerProxy(){if(e||true!==r.options.disabled&&!t(this||i).hasClass("ui-state-disabled"))return("string"===typeof a?r[a]:a).apply(r,arguments)}"string"!==typeof a&&(handlerProxy.guid=a.guid=a.guid||handlerProxy.guid||t.guid++);var l=o.match(/^(\w+)\s*(.*)$/),h=l[1]+r.eventNamespace,c=l[2];c?n.delegate(c,h,handlerProxy):s.bind(h,handlerProxy)}))},_off:function(t,e){e=(e||"").split(" ").join((this||i).eventNamespace+" ")+(this||i).eventNamespace;t.unbind(e).undelegate(e)},_delay:function(t,e){function handlerProxy(){return("string"===typeof t?s[t]:t).apply(s,arguments)}var s=this||i;return setTimeout(handlerProxy,e||0)},_hoverable:function(e){(this||i).hoverable=(this||i).hoverable.add(e);this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){(this||i).focusable=(this||i).focusable.add(e);this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,s,o){var n,r,a=(this||i).options[e];o=o||{};s=t.Event(s);s.type=(e===(this||i).widgetEventPrefix?e:(this||i).widgetEventPrefix+e).toLowerCase();s.target=(this||i).element[0];r=s.originalEvent;if(r)for(n in r)n in s||(s[n]=r[n]);(this||i).element.trigger(s,o);return!(t.isFunction(a)&&false===a.apply((this||i).element[0],[s].concat(o))||s.isDefaultPrevented())}};t.each({show:"fadeIn",hide:"fadeOut"},(function(e,s){t.Widget.prototype["_"+e]=function(o,n,r){"string"===typeof n&&(n={effect:n});var a,l=n?true===n||"number"===typeof n?s:n.effect||s:e;n=n||{};"number"===typeof n&&(n={duration:n});a=!t.isEmptyObject(n);n.complete=r;n.delay&&o.delay(n.delay);a&&t.effects&&t.effects.effect[l]?o[e](n):l!==e&&o[l]?o[l](n.duration,n.easing,r):o.queue((function(s){t(this||i)[e]();r&&r.call(o[0]);s()}))}}))})(o);(function(t,e){var s=false;t(document).mouseup((function(){s=false}));t.widget("ui.mouse",{version:"1.10.1",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this||i;(this||i).element.bind("mousedown."+(this||i).widgetName,(function(t){return e._mouseDown(t)})).bind("click."+(this||i).widgetName,(function(i){if(true===t.data(i.target,e.widgetName+".preventClickEvent")){t.removeData(i.target,e.widgetName+".preventClickEvent");i.stopImmediatePropagation();return false}}));(this||i).started=false},_mouseDestroy:function(){(this||i).element.unbind("."+(this||i).widgetName);(this||i)._mouseMoveDelegate&&t(document).unbind("mousemove."+(this||i).widgetName,(this||i)._mouseMoveDelegate).unbind("mouseup."+(this||i).widgetName,(this||i)._mouseUpDelegate)},_mouseDown:function(e){if(!s){(this||i)._mouseStarted&&this._mouseUp(e);(this||i)._mouseDownEvent=e;var o=this||i,n=1===e.which,r=!("string"!==typeof(this||i).options.cancel||!e.target.nodeName)&&t(e.target).closest((this||i).options.cancel).length;if(!n||r||!this._mouseCapture(e))return true;(this||i).mouseDelayMet=!(this||i).options.delay;(this||i).mouseDelayMet||((this||i)._mouseDelayTimer=setTimeout((function(){o.mouseDelayMet=true}),(this||i).options.delay));if(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)){(this||i)._mouseStarted=false!==this._mouseStart(e);if(!(this||i)._mouseStarted){e.preventDefault();return true}}true===t.data(e.target,(this||i).widgetName+".preventClickEvent")&&t.removeData(e.target,(this||i).widgetName+".preventClickEvent");(this||i)._mouseMoveDelegate=function(t){return o._mouseMove(t)};(this||i)._mouseUpDelegate=function(t){return o._mouseUp(t)};t(document).bind("mousemove."+(this||i).widgetName,(this||i)._mouseMoveDelegate).bind("mouseup."+(this||i).widgetName,(this||i)._mouseUpDelegate);e.preventDefault();s=true;return true}},_mouseMove:function(e){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if((this||i)._mouseStarted){this._mouseDrag(e);return e.preventDefault()}if(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)){(this||i)._mouseStarted=false!==this._mouseStart((this||i)._mouseDownEvent,e);(this||i)._mouseStarted?this._mouseDrag(e):this._mouseUp(e)}return!(this||i)._mouseStarted},_mouseUp:function(e){t(document).unbind("mousemove."+(this||i).widgetName,(this||i)._mouseMoveDelegate).unbind("mouseup."+(this||i).widgetName,(this||i)._mouseUpDelegate);if((this||i)._mouseStarted){(this||i)._mouseStarted=false;e.target===(this||i)._mouseDownEvent.target&&t.data(e.target,(this||i).widgetName+".preventClickEvent",true);this._mouseStop(e)}return false},_mouseDistanceMet:function(t){return Math.max(Math.abs((this||i)._mouseDownEvent.pageX-t.pageX),Math.abs((this||i)._mouseDownEvent.pageY-t.pageY))>=(this||i).options.distance},_mouseDelayMet:function(){return(this||i).mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}})})(o);(function(t,e){t.ui=t.ui||{};var s,o=Math.max,n=Math.abs,r=Math.round,a=/left|center|right/,l=/top|center|bottom/,h=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,f=/%$/,p=t.fn.position;function getOffsets(t,e,i){return[parseFloat(t[0])*(f.test(t[0])?e/100:1),parseFloat(t[1])*(f.test(t[1])?i/100:1)]}function parseCss(e,i){return parseInt(t.css(e,i),10)||0}function getDimensions(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.position={scrollbarWidth:function(){if(s!==e)return s;var i,o,n=t("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),r=n.children()[0];t("body").append(n);i=r.offsetWidth;n.css("overflow","scroll");o=r.offsetWidth;i===o&&(o=n[0].clientWidth);n.remove();return s=i-o},getScrollInfo:function(e){var i=e.isWindow?"":e.element.css("overflow-x"),s=e.isWindow?"":e.element.css("overflow-y"),o="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,n="scroll"===s||"auto"===s&&e.height<e.element[0].scrollHeight;return{width:o?t.position.scrollbarWidth():0,height:n?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),s=t.isWindow(i[0]);return{element:i,isWindow:s,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:s?i.width():i.outerWidth(),height:s?i.height():i.outerHeight()}}};t.fn.position=function(e){if(!e||!e.of)return p.apply(this||i,arguments);e=t.extend({},e);var s,f,u,d,g,m,v=t(e.of),_=t.position.getWithinInfo(e.within),b=t.position.getScrollInfo(_),P=(e.collision||"flip").split(" "),w={};m=getDimensions(v);v[0].preventDefault&&(e.at="left top");f=m.width;u=m.height;d=m.offset;g=t.extend({},d);t.each(["my","at"],(function(){var t=(e[this||i]||"").split(" "),s,o;1===t.length&&(t=a.test(t[0])?t.concat(["center"]):l.test(t[0])?["center"].concat(t):["center","center"]);t[0]=a.test(t[0])?t[0]:"center";t[1]=l.test(t[1])?t[1]:"center";s=h.exec(t[0]);o=h.exec(t[1]);w[this||i]=[s?s[0]:0,o?o[0]:0];e[this||i]=[c.exec(t[0])[0],c.exec(t[1])[0]]}));1===P.length&&(P[1]=P[0]);"right"===e.at[0]?g.left+=f:"center"===e.at[0]&&(g.left+=f/2);"bottom"===e.at[1]?g.top+=u:"center"===e.at[1]&&(g.top+=u/2);s=getOffsets(w.at,f,u);g.left+=s[0];g.top+=s[1];return this.each((function(){var a,l,h=t(this||i),c=h.outerWidth(),p=h.outerHeight(),m=parseCss(this||i,"marginLeft"),y=parseCss(this||i,"marginTop"),x=c+m+parseCss(this||i,"marginRight")+b.width,I=p+y+parseCss(this||i,"marginBottom")+b.height,C=t.extend({},g),T=getOffsets(w.my,h.outerWidth(),h.outerHeight());"right"===e.my[0]?C.left-=c:"center"===e.my[0]&&(C.left-=c/2);"bottom"===e.my[1]?C.top-=p:"center"===e.my[1]&&(C.top-=p/2);C.left+=T[0];C.top+=T[1];if(!t.support.offsetFractions){C.left=r(C.left);C.top=r(C.top)}a={marginLeft:m,marginTop:y};t.each(["left","top"],(function(i,o){t.ui.position[P[i]]&&t.ui.position[P[i]][o](C,{targetWidth:f,targetHeight:u,elemWidth:c,elemHeight:p,collisionPosition:a,collisionWidth:x,collisionHeight:I,offset:[s[0]+T[0],s[1]+T[1]],my:e.my,at:e.at,within:_,elem:h})}));e.using&&(l=function(t){var s=d.left-C.left,r=s+f-c,a=d.top-C.top,l=a+u-p,g={target:{element:v,left:d.left,top:d.top,width:f,height:u},element:{element:h,left:C.left,top:C.top,width:c,height:p},horizontal:r<0?"left":s>0?"right":"center",vertical:l<0?"top":a>0?"bottom":"middle"};f<c&&n(s+r)<f&&(g.horizontal="center");u<p&&n(a+l)<u&&(g.vertical="middle");o(n(s),n(r))>o(n(a),n(l))?g.important="horizontal":g.important="vertical";e.using.call(this||i,t,g)});h.offset(t.extend(C,{using:l}))}))};t.ui.position={fit:{left:function(t,e){var i=e.within,s=i.isWindow?i.scrollLeft:i.offset.left,n=i.width,r=t.left-e.collisionPosition.marginLeft,a=s-r,l=r+e.collisionWidth-n-s,h;if(e.collisionWidth>n)if(a>0&&l<=0){h=t.left+a+e.collisionWidth-n-s;t.left+=a-h}else t.left=l>0&&a<=0?s:a>l?s+n-e.collisionWidth:s;else a>0?t.left+=a:l>0?t.left-=l:t.left=o(t.left-r,t.left)},top:function(t,e){var i=e.within,s=i.isWindow?i.scrollTop:i.offset.top,n=e.within.height,r=t.top-e.collisionPosition.marginTop,a=s-r,l=r+e.collisionHeight-n-s,h;if(e.collisionHeight>n)if(a>0&&l<=0){h=t.top+a+e.collisionHeight-n-s;t.top+=a-h}else t.top=l>0&&a<=0?s:a>l?s+n-e.collisionHeight:s;else a>0?t.top+=a:l>0?t.top-=l:t.top=o(t.top-r,t.top)}},flip:{left:function(t,e){var i=e.within,s=i.offset.left+i.scrollLeft,o=i.width,r=i.isWindow?i.scrollLeft:i.offset.left,a=t.left-e.collisionPosition.marginLeft,l=a-r,h=a+e.collisionWidth-o-r,c="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,f="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,p=-2*e.offset[0],u,d;if(l<0){u=t.left+c+f+p+e.collisionWidth-o-s;(u<0||u<n(l))&&(t.left+=c+f+p)}else if(h>0){d=t.left-e.collisionPosition.marginLeft+c+f+p-r;(d>0||n(d)<h)&&(t.left+=c+f+p)}},top:function(t,e){var i=e.within,s=i.offset.top+i.scrollTop,o=i.height,r=i.isWindow?i.scrollTop:i.offset.top,a=t.top-e.collisionPosition.marginTop,l=a-r,h=a+e.collisionHeight-o-r,c="top"===e.my[1],f=c?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,p="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,u=-2*e.offset[1],d,g;if(l<0){g=t.top+f+p+u+e.collisionHeight-o-s;t.top+f+p+u>l&&(g<0||g<n(l))&&(t.top+=f+p+u)}else if(h>0){d=t.top-e.collisionPosition.marginTop+f+p+u-r;t.top+f+p+u>h&&(d>0||n(d)<h)&&(t.top+=f+p+u)}}},flipfit:{left:function(){t.ui.position.flip.left.apply(this||i,arguments);t.ui.position.fit.left.apply(this||i,arguments)},top:function(){t.ui.position.flip.top.apply(this||i,arguments);t.ui.position.fit.top.apply(this||i,arguments)}}};(function(){var e,i,s,o,n,r=document.getElementsByTagName("body")[0],a=document.createElement("div");e=document.createElement(r?"div":"body");s={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};r&&t.extend(s,{position:"absolute",left:"-1000px",top:"-1000px"});for(n in s)e.style[n]=s[n];e.appendChild(a);i=r||document.documentElement;i.insertBefore(e,i.firstChild);a.style.cssText="position: absolute; left: 10.7432222px;";o=t(a).offset().left;t.support.offsetFractions=o>10&&o<11;e.innerHTML="";i.removeChild(e)})()})(o);(function(t,e){t.widget("ui.draggable",t.ui.mouse,{version:"1.10.1",widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false,drag:null,start:null,stop:null},_create:function(){"original"!==(this||i).options.helper||/^(?:r|a|f)/.test((this||i).element.css("position"))||((this||i).element[0].style.position="relative");(this||i).options.addClasses&&(this||i).element.addClass("ui-draggable");(this||i).options.disabled&&(this||i).element.addClass("ui-draggable-disabled");this._mouseInit()},_destroy:function(){(this||i).element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy()},_mouseCapture:function(e){var s=(this||i).options;if((this||i).helper||s.disabled||t(e.target).closest(".ui-resizable-handle").length>0)return false;(this||i).handle=this._getHandle(e);if(!(this||i).handle)return false;t(true===s.iframeFix?"iframe":s.iframeFix).each((function(){t("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:(this||i).offsetWidth+"px",height:(this||i).offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(t(this||i).offset()).appendTo("body")}));return true},_mouseStart:function(e){var s=(this||i).options;(this||i).helper=this._createHelper(e);(this||i).helper.addClass("ui-draggable-dragging");this._cacheHelperProportions();t.ui.ddmanager&&(t.ui.ddmanager.current=this||i);this._cacheMargins();(this||i).cssPosition=(this||i).helper.css("position");(this||i).scrollParent=(this||i).helper.scrollParent();(this||i).offset=(this||i).positionAbs=(this||i).element.offset();(this||i).offset={top:(this||i).offset.top-(this||i).margins.top,left:(this||i).offset.left-(this||i).margins.left};t.extend((this||i).offset,{click:{left:e.pageX-(this||i).offset.left,top:e.pageY-(this||i).offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});(this||i).originalPosition=(this||i).position=this._generatePosition(e);(this||i).originalPageX=e.pageX;(this||i).originalPageY=e.pageY;s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt);s.containment&&this._setContainment();if(false===this._trigger("start",e)){this._clear();return false}this._cacheHelperProportions();t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this||i,e);this._mouseDrag(e,true);t.ui.ddmanager&&t.ui.ddmanager.dragStart(this||i,e);return true},_mouseDrag:function(e,s){(this||i).position=this._generatePosition(e);(this||i).positionAbs=this._convertPositionTo("absolute");if(!s){var o=this._uiHash();if(false===this._trigger("drag",e,o)){this._mouseUp({});return false}(this||i).position=o.position}(this||i).options.axis&&"y"===(this||i).options.axis||((this||i).helper[0].style.left=(this||i).position.left+"px");(this||i).options.axis&&"x"===(this||i).options.axis||((this||i).helper[0].style.top=(this||i).position.top+"px");t.ui.ddmanager&&t.ui.ddmanager.drag(this||i,e);return false},_mouseStop:function(e){var s,o=this||i,n=false,r=false;t.ui.ddmanager&&!(this||i).options.dropBehaviour&&(r=t.ui.ddmanager.drop(this||i,e));if((this||i).dropped){r=(this||i).dropped;(this||i).dropped=false}s=(this||i).element[0];while(s&&(s=s.parentNode))s===document&&(n=true);if(!n&&"original"===(this||i).options.helper)return false;"invalid"===(this||i).options.revert&&!r||"valid"===(this||i).options.revert&&r||true===(this||i).options.revert||t.isFunction((this||i).options.revert)&&(this||i).options.revert.call((this||i).element,r)?t((this||i).helper).animate((this||i).originalPosition,parseInt((this||i).options.revertDuration,10),(function(){false!==o._trigger("stop",e)&&o._clear()})):false!==this._trigger("stop",e)&&this._clear();return false},_mouseUp:function(e){t("div.ui-draggable-iframeFix").each((function(){(this||i).parentNode.removeChild(this||i)}));t.ui.ddmanager&&t.ui.ddmanager.dragStop(this||i,e);return t.ui.mouse.prototype._mouseUp.call(this||i,e)},cancel:function(){(this||i).helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear();return this||i},_getHandle:function(e){var s=!(this||i).options.handle||!t((this||i).options.handle,(this||i).element).length;t((this||i).options.handle,(this||i).element).find("*").addBack().each((function(){(this||i)===e.target&&(s=true)}));return s},_createHelper:function(e){var s=(this||i).options,o=t.isFunction(s.helper)?t(s.helper.apply((this||i).element[0],[e])):"clone"===s.helper?(this||i).element.clone().removeAttr("id"):(this||i).element;o.parents("body").length||o.appendTo("parent"===s.appendTo?(this||i).element[0].parentNode:s.appendTo);o[0]===(this||i).element[0]||/(fixed|absolute)/.test(o.css("position"))||o.css("position","absolute");return o},_adjustOffsetFromHelper:function(e){"string"===typeof e&&(e=e.split(" "));t.isArray(e)&&(e={left:+e[0],top:+e[1]||0});"left"in e&&((this||i).offset.click.left=e.left+(this||i).margins.left);"right"in e&&((this||i).offset.click.left=(this||i).helperProportions.width-e.right+(this||i).margins.left);"top"in e&&((this||i).offset.click.top=e.top+(this||i).margins.top);"bottom"in e&&((this||i).offset.click.top=(this||i).helperProportions.height-e.bottom+(this||i).margins.top)},_getParentOffset:function(){(this||i).offsetParent=(this||i).helper.offsetParent();var e=(this||i).offsetParent.offset();if("absolute"===(this||i).cssPosition&&(this||i).scrollParent[0]!==document&&t.contains((this||i).scrollParent[0],(this||i).offsetParent[0])){e.left+=(this||i).scrollParent.scrollLeft();e.top+=(this||i).scrollParent.scrollTop()}((this||i).offsetParent[0]===document.body||(this||i).offsetParent[0].tagName&&"html"===(this||i).offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0});return{top:e.top+(parseInt((this||i).offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt((this||i).offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===(this||i).cssPosition){var t=(this||i).element.position();return{top:t.top-(parseInt((this||i).helper.css("top"),10)||0)+(this||i).scrollParent.scrollTop(),left:t.left-(parseInt((this||i).helper.css("left"),10)||0)+(this||i).scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){(this||i).margins={left:parseInt((this||i).element.css("marginLeft"),10)||0,top:parseInt((this||i).element.css("marginTop"),10)||0,right:parseInt((this||i).element.css("marginRight"),10)||0,bottom:parseInt((this||i).element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){(this||i).helperProportions={width:(this||i).helper.outerWidth(),height:(this||i).helper.outerHeight()}},_setContainment:function(){var e,s,o,n=(this||i).options;"parent"===n.containment&&(n.containment=(this||i).helper[0].parentNode);"document"!==n.containment&&"window"!==n.containment||((this||i).containment=["document"===n.containment?0:t(window).scrollLeft()-(this||i).offset.relative.left-(this||i).offset.parent.left,"document"===n.containment?0:t(window).scrollTop()-(this||i).offset.relative.top-(this||i).offset.parent.top,("document"===n.containment?0:t(window).scrollLeft())+t("document"===n.containment?document:window).width()-(this||i).helperProportions.width-(this||i).margins.left,("document"===n.containment?0:t(window).scrollTop())+(t("document"===n.containment?document:window).height()||document.body.parentNode.scrollHeight)-(this||i).helperProportions.height-(this||i).margins.top]);if(/^(document|window|parent)$/.test(n.containment)||n.containment.constructor===Array)n.containment.constructor===Array&&((this||i).containment=n.containment);else{s=t(n.containment);o=s[0];if(!o)return;e="hidden"!==t(o).css("overflow");(this||i).containment=[(parseInt(t(o).css("borderLeftWidth"),10)||0)+(parseInt(t(o).css("paddingLeft"),10)||0),(parseInt(t(o).css("borderTopWidth"),10)||0)+(parseInt(t(o).css("paddingTop"),10)||0),(e?Math.max(o.scrollWidth,o.offsetWidth):o.offsetWidth)-(parseInt(t(o).css("borderLeftWidth"),10)||0)-(parseInt(t(o).css("paddingRight"),10)||0)-(this||i).helperProportions.width-(this||i).margins.left-(this||i).margins.right,(e?Math.max(o.scrollHeight,o.offsetHeight):o.offsetHeight)-(parseInt(t(o).css("borderTopWidth"),10)||0)-(parseInt(t(o).css("paddingBottom"),10)||0)-(this||i).helperProportions.height-(this||i).margins.top-(this||i).margins.bottom];(this||i).relative_container=s}},_convertPositionTo:function(e,s){s||(s=(this||i).position);var o="absolute"===e?1:-1,n="absolute"!==(this||i).cssPosition||(this||i).scrollParent[0]!==document&&t.contains((this||i).scrollParent[0],(this||i).offsetParent[0])?(this||i).scrollParent:(this||i).offsetParent,r=/(html|body)/i.test(n[0].tagName);return{top:s.top+(this||i).offset.relative.top*o+(this||i).offset.parent.top*o-("fixed"===(this||i).cssPosition?-(this||i).scrollParent.scrollTop():r?0:n.scrollTop())*o,left:s.left+(this||i).offset.relative.left*o+(this||i).offset.parent.left*o-("fixed"===(this||i).cssPosition?-(this||i).scrollParent.scrollLeft():r?0:n.scrollLeft())*o}},_generatePosition:function(e){var s,o,n,r,a=(this||i).options,l="absolute"!==(this||i).cssPosition||(this||i).scrollParent[0]!==document&&t.contains((this||i).scrollParent[0],(this||i).offsetParent[0])?(this||i).scrollParent:(this||i).offsetParent,h=/(html|body)/i.test(l[0].tagName),c=e.pageX,f=e.pageY;if((this||i).originalPosition){if((this||i).containment){if((this||i).relative_container){o=(this||i).relative_container.offset();s=[(this||i).containment[0]+o.left,(this||i).containment[1]+o.top,(this||i).containment[2]+o.left,(this||i).containment[3]+o.top]}else s=(this||i).containment;e.pageX-(this||i).offset.click.left<s[0]&&(c=s[0]+(this||i).offset.click.left);e.pageY-(this||i).offset.click.top<s[1]&&(f=s[1]+(this||i).offset.click.top);e.pageX-(this||i).offset.click.left>s[2]&&(c=s[2]+(this||i).offset.click.left);e.pageY-(this||i).offset.click.top>s[3]&&(f=s[3]+(this||i).offset.click.top)}if(a.grid){n=a.grid[1]?(this||i).originalPageY+Math.round((f-(this||i).originalPageY)/a.grid[1])*a.grid[1]:(this||i).originalPageY;f=s?n-(this||i).offset.click.top>=s[1]||n-(this||i).offset.click.top>s[3]?n:n-(this||i).offset.click.top>=s[1]?n-a.grid[1]:n+a.grid[1]:n;r=a.grid[0]?(this||i).originalPageX+Math.round((c-(this||i).originalPageX)/a.grid[0])*a.grid[0]:(this||i).originalPageX;c=s?r-(this||i).offset.click.left>=s[0]||r-(this||i).offset.click.left>s[2]?r:r-(this||i).offset.click.left>=s[0]?r-a.grid[0]:r+a.grid[0]:r}}return{top:f-(this||i).offset.click.top-(this||i).offset.relative.top-(this||i).offset.parent.top+("fixed"===(this||i).cssPosition?-(this||i).scrollParent.scrollTop():h?0:l.scrollTop()),left:c-(this||i).offset.click.left-(this||i).offset.relative.left-(this||i).offset.parent.left+("fixed"===(this||i).cssPosition?-(this||i).scrollParent.scrollLeft():h?0:l.scrollLeft())}},_clear:function(){(this||i).helper.removeClass("ui-draggable-dragging");(this||i).helper[0]===(this||i).element[0]||(this||i).cancelHelperRemoval||(this||i).helper.remove();(this||i).helper=null;(this||i).cancelHelperRemoval=false},_trigger:function(e,s,o){o=o||this._uiHash();t.ui.plugin.call(this||i,e,[s,o]);"drag"===e&&((this||i).positionAbs=this._convertPositionTo("absolute"));return t.Widget.prototype._trigger.call(this||i,e,s,o)},plugins:{},_uiHash:function(){return{helper:(this||i).helper,position:(this||i).position,originalPosition:(this||i).originalPosition,offset:(this||i).positionAbs}}});t.ui.plugin.add("draggable","connectToSortable",{start:function(e,s){var o=t(this||i).data("ui-draggable"),n=o.options,r=t.extend({},s,{item:o.element});o.sortables=[];t(n.connectToSortable).each((function(){var s=t.data(this||i,"ui-sortable");if(s&&!s.options.disabled){o.sortables.push({instance:s,shouldRevert:s.options.revert});s.refreshPositions();s._trigger("activate",e,r)}}))},stop:function(e,s){var o=t(this||i).data("ui-draggable"),n=t.extend({},s,{item:o.element});t.each(o.sortables,(function(){if((this||i).instance.isOver){(this||i).instance.isOver=0;o.cancelHelperRemoval=true;(this||i).instance.cancelHelperRemoval=false;(this||i).shouldRevert&&((this||i).instance.options.revert=true);(this||i).instance._mouseStop(e);(this||i).instance.options.helper=(this||i).instance.options._helper;"original"===o.options.helper&&(this||i).instance.currentItem.css({top:"auto",left:"auto"})}else{(this||i).instance.cancelHelperRemoval=false;(this||i).instance._trigger("deactivate",e,n)}}))},drag:function(e,s){var o=t(this||i).data("ui-draggable"),n=this||i;t.each(o.sortables,(function(){var r=false,a=this||i;(this||i).instance.positionAbs=o.positionAbs;(this||i).instance.helperProportions=o.helperProportions;(this||i).instance.offset.click=o.offset.click;if((this||i).instance._intersectsWith((this||i).instance.containerCache)){r=true;t.each(o.sortables,(function(){(this||i).instance.positionAbs=o.positionAbs;(this||i).instance.helperProportions=o.helperProportions;(this||i).instance.offset.click=o.offset.click;(this||i)!==a&&(this||i).instance._intersectsWith((this||i).instance.containerCache)&&t.contains(a.instance.element[0],(this||i).instance.element[0])&&(r=false);return r}))}if(r){if(!(this||i).instance.isOver){(this||i).instance.isOver=1;(this||i).instance.currentItem=t(n).clone().removeAttr("id").appendTo((this||i).instance.element).data("ui-sortable-item",true);(this||i).instance.options._helper=(this||i).instance.options.helper;(this||i).instance.options.helper=function(){return s.helper[0]};e.target=(this||i).instance.currentItem[0];(this||i).instance._mouseCapture(e,true);(this||i).instance._mouseStart(e,true,true);(this||i).instance.offset.click.top=o.offset.click.top;(this||i).instance.offset.click.left=o.offset.click.left;(this||i).instance.offset.parent.left-=o.offset.parent.left-(this||i).instance.offset.parent.left;(this||i).instance.offset.parent.top-=o.offset.parent.top-(this||i).instance.offset.parent.top;o._trigger("toSortable",e);o.dropped=(this||i).instance.element;o.currentItem=o.element;(this||i).instance.fromOutside=o}(this||i).instance.currentItem&&(this||i).instance._mouseDrag(e)}else if((this||i).instance.isOver){(this||i).instance.isOver=0;(this||i).instance.cancelHelperRemoval=true;(this||i).instance.options.revert=false;(this||i).instance._trigger("out",e,(this||i).instance._uiHash((this||i).instance));(this||i).instance._mouseStop(e,true);(this||i).instance.options.helper=(this||i).instance.options._helper;(this||i).instance.currentItem.remove();(this||i).instance.placeholder&&(this||i).instance.placeholder.remove();o._trigger("fromSortable",e);o.dropped=false}}))}});t.ui.plugin.add("draggable","cursor",{start:function(){var e=t("body"),s=t(this||i).data("ui-draggable").options;e.css("cursor")&&(s._cursor=e.css("cursor"));e.css("cursor",s.cursor)},stop:function(){var e=t(this||i).data("ui-draggable").options;e._cursor&&t("body").css("cursor",e._cursor)}});t.ui.plugin.add("draggable","opacity",{start:function(e,s){var o=t(s.helper),n=t(this||i).data("ui-draggable").options;o.css("opacity")&&(n._opacity=o.css("opacity"));o.css("opacity",n.opacity)},stop:function(e,s){var o=t(this||i).data("ui-draggable").options;o._opacity&&t(s.helper).css("opacity",o._opacity)}});t.ui.plugin.add("draggable","scroll",{start:function(){var e=t(this||i).data("ui-draggable");e.scrollParent[0]!==document&&"HTML"!==e.scrollParent[0].tagName&&(e.overflowOffset=e.scrollParent.offset())},drag:function(e){var s=t(this||i).data("ui-draggable"),o=s.options,n=false;if(s.scrollParent[0]!==document&&"HTML"!==s.scrollParent[0].tagName){o.axis&&"x"===o.axis||(s.overflowOffset.top+s.scrollParent[0].offsetHeight-e.pageY<o.scrollSensitivity?s.scrollParent[0].scrollTop=n=s.scrollParent[0].scrollTop+o.scrollSpeed:e.pageY-s.overflowOffset.top<o.scrollSensitivity&&(s.scrollParent[0].scrollTop=n=s.scrollParent[0].scrollTop-o.scrollSpeed));o.axis&&"y"===o.axis||(s.overflowOffset.left+s.scrollParent[0].offsetWidth-e.pageX<o.scrollSensitivity?s.scrollParent[0].scrollLeft=n=s.scrollParent[0].scrollLeft+o.scrollSpeed:e.pageX-s.overflowOffset.left<o.scrollSensitivity&&(s.scrollParent[0].scrollLeft=n=s.scrollParent[0].scrollLeft-o.scrollSpeed))}else{o.axis&&"x"===o.axis||(e.pageY-t(document).scrollTop()<o.scrollSensitivity?n=t(document).scrollTop(t(document).scrollTop()-o.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<o.scrollSensitivity&&(n=t(document).scrollTop(t(document).scrollTop()+o.scrollSpeed)));o.axis&&"y"===o.axis||(e.pageX-t(document).scrollLeft()<o.scrollSensitivity?n=t(document).scrollLeft(t(document).scrollLeft()-o.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<o.scrollSensitivity&&(n=t(document).scrollLeft(t(document).scrollLeft()+o.scrollSpeed)))}false!==n&&t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(s,e)}});t.ui.plugin.add("draggable","snap",{start:function(){var e=t(this||i).data("ui-draggable"),s=e.options;e.snapElements=[];t(s.snap.constructor!==String?s.snap.items||":data(ui-draggable)":s.snap).each((function(){var s=t(this||i),o=s.offset();(this||i)!==e.element[0]&&e.snapElements.push({item:this||i,width:s.outerWidth(),height:s.outerHeight(),top:o.top,left:o.left})}))},drag:function(e,s){var o,n,r,a,l,h,c,f,p,u,d=t(this||i).data("ui-draggable"),g=d.options,m=g.snapTolerance,v=s.offset.left,_=v+d.helperProportions.width,b=s.offset.top,P=b+d.helperProportions.height;for(p=d.snapElements.length-1;p>=0;p--){l=d.snapElements[p].left;h=l+d.snapElements[p].width;c=d.snapElements[p].top;f=c+d.snapElements[p].height;if(l-m<v&&v<h+m&&c-m<b&&b<f+m||l-m<v&&v<h+m&&c-m<P&&P<f+m||l-m<_&&_<h+m&&c-m<b&&b<f+m||l-m<_&&_<h+m&&c-m<P&&P<f+m){if("inner"!==g.snapMode){o=Math.abs(c-P)<=m;n=Math.abs(f-b)<=m;r=Math.abs(l-_)<=m;a=Math.abs(h-v)<=m;o&&(s.position.top=d._convertPositionTo("relative",{top:c-d.helperProportions.height,left:0}).top-d.margins.top);n&&(s.position.top=d._convertPositionTo("relative",{top:f,left:0}).top-d.margins.top);r&&(s.position.left=d._convertPositionTo("relative",{top:0,left:l-d.helperProportions.width}).left-d.margins.left);a&&(s.position.left=d._convertPositionTo("relative",{top:0,left:h}).left-d.margins.left)}u=o||n||r||a;if("outer"!==g.snapMode){o=Math.abs(c-b)<=m;n=Math.abs(f-P)<=m;r=Math.abs(l-v)<=m;a=Math.abs(h-_)<=m;o&&(s.position.top=d._convertPositionTo("relative",{top:c,left:0}).top-d.margins.top);n&&(s.position.top=d._convertPositionTo("relative",{top:f-d.helperProportions.height,left:0}).top-d.margins.top);r&&(s.position.left=d._convertPositionTo("relative",{top:0,left:l}).left-d.margins.left);a&&(s.position.left=d._convertPositionTo("relative",{top:0,left:h-d.helperProportions.width}).left-d.margins.left)}!d.snapElements[p].snapping&&(o||n||r||a||u)&&d.options.snap.snap&&d.options.snap.snap.call(d.element,e,t.extend(d._uiHash(),{snapItem:d.snapElements[p].item}));d.snapElements[p].snapping=o||n||r||a||u}else{d.snapElements[p].snapping&&d.options.snap.release&&d.options.snap.release.call(d.element,e,t.extend(d._uiHash(),{snapItem:d.snapElements[p].item}));d.snapElements[p].snapping=false}}}});t.ui.plugin.add("draggable","stack",{start:function(){var e,s=this.data("ui-draggable").options,o=t.makeArray(t(s.stack)).sort((function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)}));if(o.length){e=parseInt(t(o[0]).css("zIndex"),10)||0;t(o).each((function(s){t(this||i).css("zIndex",e+s)}));this.css("zIndex",e+o.length)}}});t.ui.plugin.add("draggable","zIndex",{start:function(e,s){var o=t(s.helper),n=t(this||i).data("ui-draggable").options;o.css("zIndex")&&(n._zIndex=o.css("zIndex"));o.css("zIndex",n.zIndex)},stop:function(e,s){var o=t(this||i).data("ui-draggable").options;o._zIndex&&t(s.helper).css("zIndex",o._zIndex)}})})(o);(function(t,e){function isOverAxis(t,e,i){return t>e&&t<e+i}t.widget("ui.droppable",{version:"1.10.1",widgetEventPrefix:"drop",options:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e=(this||i).options,s=e.accept;(this||i).isover=false;(this||i).isout=true;(this||i).accept=t.isFunction(s)?s:function(t){return t.is(s)};(this||i).proportions={width:(this||i).element[0].offsetWidth,height:(this||i).element[0].offsetHeight};t.ui.ddmanager.droppables[e.scope]=t.ui.ddmanager.droppables[e.scope]||[];t.ui.ddmanager.droppables[e.scope].push(this||i);e.addClasses&&(this||i).element.addClass("ui-droppable")},_destroy:function(){var e=0,s=t.ui.ddmanager.droppables[(this||i).options.scope];for(;e<s.length;e++)s[e]===(this||i)&&s.splice(e,1);(this||i).element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,s){"accept"===e&&((this||i).accept=t.isFunction(s)?s:function(t){return t.is(s)});t.Widget.prototype._setOption.apply(this||i,arguments)},_activate:function(e){var s=t.ui.ddmanager.current;(this||i).options.activeClass&&(this||i).element.addClass((this||i).options.activeClass);s&&this._trigger("activate",e,this.ui(s))},_deactivate:function(e){var s=t.ui.ddmanager.current;(this||i).options.activeClass&&(this||i).element.removeClass((this||i).options.activeClass);s&&this._trigger("deactivate",e,this.ui(s))},_over:function(e){var s=t.ui.ddmanager.current;if(s&&(s.currentItem||s.element)[0]!==(this||i).element[0]&&(this||i).accept.call((this||i).element[0],s.currentItem||s.element)){(this||i).options.hoverClass&&(this||i).element.addClass((this||i).options.hoverClass);this._trigger("over",e,this.ui(s))}},_out:function(e){var s=t.ui.ddmanager.current;if(s&&(s.currentItem||s.element)[0]!==(this||i).element[0]&&(this||i).accept.call((this||i).element[0],s.currentItem||s.element)){(this||i).options.hoverClass&&(this||i).element.removeClass((this||i).options.hoverClass);this._trigger("out",e,this.ui(s))}},_drop:function(e,s){var o=s||t.ui.ddmanager.current,n=false;if(!o||(o.currentItem||o.element)[0]===(this||i).element[0])return false;(this||i).element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each((function(){var e=t.data(this||i,"ui-droppable");if(e.options.greedy&&!e.options.disabled&&e.options.scope===o.options.scope&&e.accept.call(e.element[0],o.currentItem||o.element)&&t.ui.intersect(o,t.extend(e,{offset:e.element.offset()}),e.options.tolerance)){n=true;return false}}));if(n)return false;if((this||i).accept.call((this||i).element[0],o.currentItem||o.element)){(this||i).options.activeClass&&(this||i).element.removeClass((this||i).options.activeClass);(this||i).options.hoverClass&&(this||i).element.removeClass((this||i).options.hoverClass);this._trigger("drop",e,this.ui(o));return(this||i).element}return false},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}});t.ui.intersect=function(t,e,i){if(!e.offset)return false;var s,o,n=(t.positionAbs||t.position.absolute).left,r=n+t.helperProportions.width,a=(t.positionAbs||t.position.absolute).top,l=a+t.helperProportions.height,h=e.offset.left,c=h+e.proportions.width,f=e.offset.top,p=f+e.proportions.height;switch(i){case"fit":return h<=n&&r<=c&&f<=a&&l<=p;case"intersect":return h<n+t.helperProportions.width/2&&r-t.helperProportions.width/2<c&&f<a+t.helperProportions.height/2&&l-t.helperProportions.height/2<p;case"pointer":s=(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left;o=(t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top;return isOverAxis(o,f,e.proportions.height)&&isOverAxis(s,h,e.proportions.width);case"touch":return(a>=f&&a<=p||l>=f&&l<=p||a<f&&l>p)&&(n>=h&&n<=c||r>=h&&r<=c||n<h&&r>c);default:return false}};t.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,i){var s,o,n=t.ui.ddmanager.droppables[e.options.scope]||[],r=i?i.type:null,a=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(s=0;s<n.length;s++)if(!(n[s].options.disabled||e&&!n[s].accept.call(n[s].element[0],e.currentItem||e.element))){for(o=0;o<a.length;o++)if(a[o]===n[s].element[0]){n[s].proportions.height=0;continue t}n[s].visible="none"!==n[s].element.css("display");if(n[s].visible){"mousedown"===r&&n[s]._activate.call(n[s],i);n[s].offset=n[s].element.offset();n[s].proportions={width:n[s].element[0].offsetWidth,height:n[s].element[0].offsetHeight}}}},drop:function(e,s){var o=false;t.each(t.ui.ddmanager.droppables[e.options.scope]||[],(function(){if((this||i).options){!(this||i).options.disabled&&(this||i).visible&&t.ui.intersect(e,this||i,(this||i).options.tolerance)&&(o=(this||i)._drop.call(this||i,s)||o);if(!(this||i).options.disabled&&(this||i).visible&&(this||i).accept.call((this||i).element[0],e.currentItem||e.element)){(this||i).isout=true;(this||i).isover=false;(this||i)._deactivate.call(this||i,s)}}}));return o},dragStart:function(e,i){e.element.parentsUntil("body").bind("scroll.droppable",(function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}))},drag:function(e,s){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,s);t.each(t.ui.ddmanager.droppables[e.options.scope]||[],(function(){if(!(this||i).options.disabled&&!(this||i).greedyChild&&(this||i).visible){var o,n,r,a=t.ui.intersect(e,this||i,(this||i).options.tolerance),l=!a&&(this||i).isover?"isout":a&&!(this||i).isover?"isover":null;if(l){if((this||i).options.greedy){n=(this||i).options.scope;r=(this||i).element.parents(":data(ui-droppable)").filter((function(){return t.data(this||i,"ui-droppable").options.scope===n}));if(r.length){o=t.data(r[0],"ui-droppable");o.greedyChild="isover"===l}}if(o&&"isover"===l){o.isover=false;o.isout=true;o._out.call(o,s)}(this||i)[l]=true;(this||i)["isout"===l?"isover":"isout"]=false;(this||i)["isover"===l?"_over":"_out"].call(this||i,s);if(o&&"isout"===l){o.isout=false;o.isover=true;o._over.call(o,s)}}}}))},dragStop:function(e,i){e.element.parentsUntil("body").unbind("scroll.droppable");e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}}})(o);(function(t,e){function isOverAxis(t,e,i){return t>e&&t<e+i}t.widget("ui.sortable",t.ui.mouse,{version:"1.10.1",widgetEventPrefix:"sort",ready:false,options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var t=(this||i).options;(this||i).containerCache={};(this||i).element.addClass("ui-sortable");this.refresh();(this||i).floating=!!(this||i).items.length&&("x"===t.axis||/left|right/.test((this||i).items[0].item.css("float"))||/inline|table-cell/.test((this||i).items[0].item.css("display")));(this||i).offset=(this||i).element.offset();this._mouseInit();(this||i).ready=true},_destroy:function(){(this||i).element.removeClass("ui-sortable ui-sortable-disabled");this._mouseDestroy();for(var t=(this||i).items.length-1;t>=0;t--)(this||i).items[t].item.removeData((this||i).widgetName+"-item");return this||i},_setOption:function(e,s){if("disabled"===e){(this||i).options[e]=s;this.widget().toggleClass("ui-sortable-disabled",!!s)}else t.Widget.prototype._setOption.apply(this||i,arguments)},_mouseCapture:function(e,s){var o=null,n=false,r=this||i;if((this||i).reverting)return false;if((this||i).options.disabled||"static"===(this||i).options.type)return false;this._refreshItems(e);t(e.target).parents().each((function(){if(t.data(this||i,r.widgetName+"-item")===r){o=t(this||i);return false}}));t.data(e.target,r.widgetName+"-item")===r&&(o=t(e.target));if(!o)return false;if((this||i).options.handle&&!s){t((this||i).options.handle,o).find("*").addBack().each((function(){(this||i)===e.target&&(n=true)}));if(!n)return false}(this||i).currentItem=o;this._removeCurrentsFromItems();return true},_mouseStart:function(e,s,o){var n,r=(this||i).options;(this||i).currentContainer=this||i;this.refreshPositions();(this||i).helper=this._createHelper(e);this._cacheHelperProportions();this._cacheMargins();(this||i).scrollParent=(this||i).helper.scrollParent();(this||i).offset=(this||i).currentItem.offset();(this||i).offset={top:(this||i).offset.top-(this||i).margins.top,left:(this||i).offset.left-(this||i).margins.left};t.extend((this||i).offset,{click:{left:e.pageX-(this||i).offset.left,top:e.pageY-(this||i).offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});(this||i).helper.css("position","absolute");(this||i).cssPosition=(this||i).helper.css("position");(this||i).originalPosition=this._generatePosition(e);(this||i).originalPageX=e.pageX;(this||i).originalPageY=e.pageY;r.cursorAt&&this._adjustOffsetFromHelper(r.cursorAt);(this||i).domPosition={prev:(this||i).currentItem.prev()[0],parent:(this||i).currentItem.parent()[0]};(this||i).helper[0]!==(this||i).currentItem[0]&&(this||i).currentItem.hide();this._createPlaceholder();r.containment&&this._setContainment();if(r.cursor){t("body").css("cursor")&&((this||i)._storedCursor=t("body").css("cursor"));t("body").css("cursor",r.cursor)}if(r.opacity){(this||i).helper.css("opacity")&&((this||i)._storedOpacity=(this||i).helper.css("opacity"));(this||i).helper.css("opacity",r.opacity)}if(r.zIndex){(this||i).helper.css("zIndex")&&((this||i)._storedZIndex=(this||i).helper.css("zIndex"));(this||i).helper.css("zIndex",r.zIndex)}(this||i).scrollParent[0]!==document&&"HTML"!==(this||i).scrollParent[0].tagName&&((this||i).overflowOffset=(this||i).scrollParent.offset());this._trigger("start",e,this._uiHash());(this||i)._preserveHelperProportions||this._cacheHelperProportions();if(!o)for(n=(this||i).containers.length-1;n>=0;n--)(this||i).containers[n]._trigger("activate",e,this._uiHash(this||i));t.ui.ddmanager&&(t.ui.ddmanager.current=this||i);t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this||i,e);(this||i).dragging=true;(this||i).helper.addClass("ui-sortable-helper");this._mouseDrag(e);return true},_mouseDrag:function(e){var s,o,n,r,a=(this||i).options,l=false;(this||i).position=this._generatePosition(e);(this||i).positionAbs=this._convertPositionTo("absolute");(this||i).lastPositionAbs||((this||i).lastPositionAbs=(this||i).positionAbs);if((this||i).options.scroll){if((this||i).scrollParent[0]!==document&&"HTML"!==(this||i).scrollParent[0].tagName){(this||i).overflowOffset.top+(this||i).scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?(this||i).scrollParent[0].scrollTop=l=(this||i).scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-(this||i).overflowOffset.top<a.scrollSensitivity&&((this||i).scrollParent[0].scrollTop=l=(this||i).scrollParent[0].scrollTop-a.scrollSpeed);(this||i).overflowOffset.left+(this||i).scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?(this||i).scrollParent[0].scrollLeft=l=(this||i).scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-(this||i).overflowOffset.left<a.scrollSensitivity&&((this||i).scrollParent[0].scrollLeft=l=(this||i).scrollParent[0].scrollLeft-a.scrollSpeed)}else{e.pageY-t(document).scrollTop()<a.scrollSensitivity?l=t(document).scrollTop(t(document).scrollTop()-a.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<a.scrollSensitivity&&(l=t(document).scrollTop(t(document).scrollTop()+a.scrollSpeed));e.pageX-t(document).scrollLeft()<a.scrollSensitivity?l=t(document).scrollLeft(t(document).scrollLeft()-a.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<a.scrollSensitivity&&(l=t(document).scrollLeft(t(document).scrollLeft()+a.scrollSpeed))}false!==l&&t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this||i,e)}(this||i).positionAbs=this._convertPositionTo("absolute");(this||i).options.axis&&"y"===(this||i).options.axis||((this||i).helper[0].style.left=(this||i).position.left+"px");(this||i).options.axis&&"x"===(this||i).options.axis||((this||i).helper[0].style.top=(this||i).position.top+"px");for(s=(this||i).items.length-1;s>=0;s--){o=(this||i).items[s];n=o.item[0];r=this._intersectsWithPointer(o);if(r&&(o.instance===(this||i).currentContainer&&n!==(this||i).currentItem[0]&&(this||i).placeholder[1===r?"next":"prev"]()[0]!==n&&!t.contains((this||i).placeholder[0],n)&&("semi-dynamic"!==(this||i).options.type||!t.contains((this||i).element[0],n)))){(this||i).direction=1===r?"down":"up";if("pointer"!==(this||i).options.tolerance&&!this._intersectsWithSides(o))break;this._rearrange(e,o);this._trigger("change",e,this._uiHash());break}}this._contactContainers(e);t.ui.ddmanager&&t.ui.ddmanager.drag(this||i,e);this._trigger("sort",e,this._uiHash());(this||i).lastPositionAbs=(this||i).positionAbs;return false},_mouseStop:function(e,s){if(e){t.ui.ddmanager&&!(this||i).options.dropBehaviour&&t.ui.ddmanager.drop(this||i,e);if((this||i).options.revert){var o=this||i,n=(this||i).placeholder.offset();(this||i).reverting=true;t((this||i).helper).animate({left:n.left-(this||i).offset.parent.left-(this||i).margins.left+((this||i).offsetParent[0]===document.body?0:(this||i).offsetParent[0].scrollLeft),top:n.top-(this||i).offset.parent.top-(this||i).margins.top+((this||i).offsetParent[0]===document.body?0:(this||i).offsetParent[0].scrollTop)},parseInt((this||i).options.revert,10)||500,(function(){o._clear(e)}))}else this._clear(e,s);return false}},cancel:function(){if((this||i).dragging){this._mouseUp({target:null});"original"===(this||i).options.helper?(this||i).currentItem.css((this||i)._storedCSS).removeClass("ui-sortable-helper"):(this||i).currentItem.show();for(var e=(this||i).containers.length-1;e>=0;e--){(this||i).containers[e]._trigger("deactivate",null,this._uiHash(this||i));if((this||i).containers[e].containerCache.over){(this||i).containers[e]._trigger("out",null,this._uiHash(this||i));(this||i).containers[e].containerCache.over=0}}}if((this||i).placeholder){(this||i).placeholder[0].parentNode&&(this||i).placeholder[0].parentNode.removeChild((this||i).placeholder[0]);"original"!==(this||i).options.helper&&(this||i).helper&&(this||i).helper[0].parentNode&&(this||i).helper.remove();t.extend(this||i,{helper:null,dragging:false,reverting:false,_noFinalSort:null});(this||i).domPosition.prev?t((this||i).domPosition.prev).after((this||i).currentItem):t((this||i).domPosition.parent).prepend((this||i).currentItem)}return this||i},serialize:function(e){var s=this._getItemsAsjQuery(e&&e.connected),o=[];e=e||{};t(s).each((function(){var s=(t(e.item||this||i).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);s&&o.push((e.key||s[1]+"[]")+"="+(e.key&&e.expression?s[1]:s[2]))}));!o.length&&e.key&&o.push(e.key+"=");return o.join("&")},toArray:function(e){var s=this._getItemsAsjQuery(e&&e.connected),o=[];e=e||{};s.each((function(){o.push(t(e.item||this||i).attr(e.attribute||"id")||"")}));return o},_intersectsWith:function(t){var e=(this||i).positionAbs.left,s=e+(this||i).helperProportions.width,o=(this||i).positionAbs.top,n=o+(this||i).helperProportions.height,r=t.left,a=r+t.width,l=t.top,h=l+t.height,c=(this||i).offset.click.top,f=(this||i).offset.click.left,p=o+c>l&&o+c<h&&e+f>r&&e+f<a;return"pointer"===(this||i).options.tolerance||(this||i).options.forcePointerForContainers||"pointer"!==(this||i).options.tolerance&&(this||i).helperProportions[(this||i).floating?"width":"height"]>t[(this||i).floating?"width":"height"]?p:r<e+(this||i).helperProportions.width/2&&s-(this||i).helperProportions.width/2<a&&l<o+(this||i).helperProportions.height/2&&n-(this||i).helperProportions.height/2<h},_intersectsWithPointer:function(t){var e="x"===(this||i).options.axis||isOverAxis((this||i).positionAbs.top+(this||i).offset.click.top,t.top,t.height),s="y"===(this||i).options.axis||isOverAxis((this||i).positionAbs.left+(this||i).offset.click.left,t.left,t.width),o=e&&s,n=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return!!o&&((this||i).floating?r&&"right"===r||"down"===n?2:1:n&&("down"===n?2:1))},_intersectsWithSides:function(t){var e=isOverAxis((this||i).positionAbs.top+(this||i).offset.click.top,t.top+t.height/2,t.height),s=isOverAxis((this||i).positionAbs.left+(this||i).offset.click.left,t.left+t.width/2,t.width),o=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return(this||i).floating&&n?"right"===n&&s||"left"===n&&!s:o&&("down"===o&&e||"up"===o&&!e)},_getDragVerticalDirection:function(){var t=(this||i).positionAbs.top-(this||i).lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=(this||i).positionAbs.left-(this||i).lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){this._refreshItems(t);this.refreshPositions();return this||i},_connectWith:function(){var t=(this||i).options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){var s,o,n,r,a=[],l=[],h=this._connectWith();if(h&&e)for(s=h.length-1;s>=0;s--){n=t(h[s]);for(o=n.length-1;o>=0;o--){r=t.data(n[o],(this||i).widgetFullName);r&&r!==(this||i)&&!r.options.disabled&&l.push([t.isFunction(r.options.items)?r.options.items.call(r.element):t(r.options.items,r.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),r])}}l.push([t.isFunction((this||i).options.items)?(this||i).options.items.call((this||i).element,null,{options:(this||i).options,item:(this||i).currentItem}):t((this||i).options.items,(this||i).element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this||i]);for(s=l.length-1;s>=0;s--)l[s][0].each((function(){a.push(this||i)}));return t(a)},_removeCurrentsFromItems:function(){var e=(this||i).currentItem.find(":data("+(this||i).widgetName+"-item)");(this||i).items=t.grep((this||i).items,(function(t){for(var i=0;i<e.length;i++)if(e[i]===t.item[0])return false;return true}))},_refreshItems:function(e){(this||i).items=[];(this||i).containers=[this||i];var s,o,n,r,a,l,h,c,f=(this||i).items,p=[[t.isFunction((this||i).options.items)?(this||i).options.items.call((this||i).element[0],e,{item:(this||i).currentItem}):t((this||i).options.items,(this||i).element),this||i]],u=this._connectWith();if(u&&(this||i).ready)for(s=u.length-1;s>=0;s--){n=t(u[s]);for(o=n.length-1;o>=0;o--){r=t.data(n[o],(this||i).widgetFullName);if(r&&r!==(this||i)&&!r.options.disabled){p.push([t.isFunction(r.options.items)?r.options.items.call(r.element[0],e,{item:(this||i).currentItem}):t(r.options.items,r.element),r]);(this||i).containers.push(r)}}}for(s=p.length-1;s>=0;s--){a=p[s][1];l=p[s][0];for(o=0,c=l.length;o<c;o++){h=t(l[o]);h.data((this||i).widgetName+"-item",a);f.push({item:h,instance:a,width:0,height:0,left:0,top:0})}}},refreshPositions:function(e){(this||i).offsetParent&&(this||i).helper&&((this||i).offset.parent=this._getParentOffset());var s,o,n,r;for(s=(this||i).items.length-1;s>=0;s--){o=(this||i).items[s];if(o.instance===(this||i).currentContainer||!(this||i).currentContainer||o.item[0]===(this||i).currentItem[0]){n=(this||i).options.toleranceElement?t((this||i).options.toleranceElement,o.item):o.item;if(!e){o.width=n.outerWidth();o.height=n.outerHeight()}r=n.offset();o.left=r.left;o.top=r.top}}if((this||i).options.custom&&(this||i).options.custom.refreshContainers)(this||i).options.custom.refreshContainers.call(this||i);else for(s=(this||i).containers.length-1;s>=0;s--){r=(this||i).containers[s].element.offset();(this||i).containers[s].containerCache.left=r.left;(this||i).containers[s].containerCache.top=r.top;(this||i).containers[s].containerCache.width=(this||i).containers[s].element.outerWidth();(this||i).containers[s].containerCache.height=(this||i).containers[s].element.outerHeight()}return this||i},_createPlaceholder:function(e){e=e||this||i;var s,o=e.options;if(!o.placeholder||o.placeholder.constructor===String){s=o.placeholder;o.placeholder={element:function(){var i=t(document.createElement(e.currentItem[0].nodeName)).addClass(s||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];s||(i.style.visibility="hidden");return i},update:function(t,i){if(!s||o.forcePlaceholderSize){i.height()||i.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10));i.width()||i.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10))}}}}e.placeholder=t(o.placeholder.element.call(e.element,e.currentItem));e.currentItem.after(e.placeholder);o.placeholder.update(e,e.placeholder)},_contactContainers:function(e){var s,o,n,r,a,l,h,c,f,p=null,u=null;for(s=(this||i).containers.length-1;s>=0;s--)if(!t.contains((this||i).currentItem[0],(this||i).containers[s].element[0]))if(this._intersectsWith((this||i).containers[s].containerCache)){if(p&&t.contains((this||i).containers[s].element[0],p.element[0]))continue;p=(this||i).containers[s];u=s}else if((this||i).containers[s].containerCache.over){(this||i).containers[s]._trigger("out",e,this._uiHash(this||i));(this||i).containers[s].containerCache.over=0}if(p)if(1===(this||i).containers.length){(this||i).containers[u]._trigger("over",e,this._uiHash(this||i));(this||i).containers[u].containerCache.over=1}else{n=1e4;r=null;a=(this||i).containers[u].floating?"left":"top";l=(this||i).containers[u].floating?"width":"height";h=(this||i).positionAbs[a]+(this||i).offset.click[a];for(o=(this||i).items.length-1;o>=0;o--)if(t.contains((this||i).containers[u].element[0],(this||i).items[o].item[0])&&(this||i).items[o].item[0]!==(this||i).currentItem[0]){c=(this||i).items[o].item.offset()[a];f=false;if(Math.abs(c-h)>Math.abs(c+(this||i).items[o][l]-h)){f=true;c+=(this||i).items[o][l]}if(Math.abs(c-h)<n){n=Math.abs(c-h);r=(this||i).items[o];(this||i).direction=f?"up":"down"}}if(!r&&!(this||i).options.dropOnEmpty)return;(this||i).currentContainer=(this||i).containers[u];r?this._rearrange(e,r,null,true):this._rearrange(e,null,(this||i).containers[u].element,true);this._trigger("change",e,this._uiHash());(this||i).containers[u]._trigger("change",e,this._uiHash(this||i));(this||i).options.placeholder.update((this||i).currentContainer,(this||i).placeholder);(this||i).containers[u]._trigger("over",e,this._uiHash(this||i));(this||i).containers[u].containerCache.over=1}},_createHelper:function(e){var s=(this||i).options,o=t.isFunction(s.helper)?t(s.helper.apply((this||i).element[0],[e,(this||i).currentItem])):"clone"===s.helper?(this||i).currentItem.clone():(this||i).currentItem;o.parents("body").length||t("parent"!==s.appendTo?s.appendTo:(this||i).currentItem[0].parentNode)[0].appendChild(o[0]);o[0]===(this||i).currentItem[0]&&((this||i)._storedCSS={width:(this||i).currentItem[0].style.width,height:(this||i).currentItem[0].style.height,position:(this||i).currentItem.css("position"),top:(this||i).currentItem.css("top"),left:(this||i).currentItem.css("left")});o[0].style.width&&!s.forceHelperSize||o.width((this||i).currentItem.width());o[0].style.height&&!s.forceHelperSize||o.height((this||i).currentItem.height());return o},_adjustOffsetFromHelper:function(e){"string"===typeof e&&(e=e.split(" "));t.isArray(e)&&(e={left:+e[0],top:+e[1]||0});"left"in e&&((this||i).offset.click.left=e.left+(this||i).margins.left);"right"in e&&((this||i).offset.click.left=(this||i).helperProportions.width-e.right+(this||i).margins.left);"top"in e&&((this||i).offset.click.top=e.top+(this||i).margins.top);"bottom"in e&&((this||i).offset.click.top=(this||i).helperProportions.height-e.bottom+(this||i).margins.top)},_getParentOffset:function(){(this||i).offsetParent=(this||i).helper.offsetParent();var e=(this||i).offsetParent.offset();if("absolute"===(this||i).cssPosition&&(this||i).scrollParent[0]!==document&&t.contains((this||i).scrollParent[0],(this||i).offsetParent[0])){e.left+=(this||i).scrollParent.scrollLeft();e.top+=(this||i).scrollParent.scrollTop()}((this||i).offsetParent[0]===document.body||(this||i).offsetParent[0].tagName&&"html"===(this||i).offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0});return{top:e.top+(parseInt((this||i).offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt((this||i).offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===(this||i).cssPosition){var t=(this||i).currentItem.position();return{top:t.top-(parseInt((this||i).helper.css("top"),10)||0)+(this||i).scrollParent.scrollTop(),left:t.left-(parseInt((this||i).helper.css("left"),10)||0)+(this||i).scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){(this||i).margins={left:parseInt((this||i).currentItem.css("marginLeft"),10)||0,top:parseInt((this||i).currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){(this||i).helperProportions={width:(this||i).helper.outerWidth(),height:(this||i).helper.outerHeight()}},_setContainment:function(){var e,s,o,n=(this||i).options;"parent"===n.containment&&(n.containment=(this||i).helper[0].parentNode);"document"!==n.containment&&"window"!==n.containment||((this||i).containment=[0-(this||i).offset.relative.left-(this||i).offset.parent.left,0-(this||i).offset.relative.top-(this||i).offset.parent.top,t("document"===n.containment?document:window).width()-(this||i).helperProportions.width-(this||i).margins.left,(t("document"===n.containment?document:window).height()||document.body.parentNode.scrollHeight)-(this||i).helperProportions.height-(this||i).margins.top]);if(!/^(document|window|parent)$/.test(n.containment)){e=t(n.containment)[0];s=t(n.containment).offset();o="hidden"!==t(e).css("overflow");(this||i).containment=[s.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-(this||i).margins.left,s.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-(this||i).margins.top,s.left+(o?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-(this||i).helperProportions.width-(this||i).margins.left,s.top+(o?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-(this||i).helperProportions.height-(this||i).margins.top]}},_convertPositionTo:function(e,s){s||(s=(this||i).position);var o="absolute"===e?1:-1,n="absolute"!==(this||i).cssPosition||(this||i).scrollParent[0]!==document&&t.contains((this||i).scrollParent[0],(this||i).offsetParent[0])?(this||i).scrollParent:(this||i).offsetParent,r=/(html|body)/i.test(n[0].tagName);return{top:s.top+(this||i).offset.relative.top*o+(this||i).offset.parent.top*o-("fixed"===(this||i).cssPosition?-(this||i).scrollParent.scrollTop():r?0:n.scrollTop())*o,left:s.left+(this||i).offset.relative.left*o+(this||i).offset.parent.left*o-("fixed"===(this||i).cssPosition?-(this||i).scrollParent.scrollLeft():r?0:n.scrollLeft())*o}},_generatePosition:function(e){var s,o,n=(this||i).options,r=e.pageX,a=e.pageY,l="absolute"!==(this||i).cssPosition||(this||i).scrollParent[0]!==document&&t.contains((this||i).scrollParent[0],(this||i).offsetParent[0])?(this||i).scrollParent:(this||i).offsetParent,h=/(html|body)/i.test(l[0].tagName);"relative"!==(this||i).cssPosition||(this||i).scrollParent[0]!==document&&(this||i).scrollParent[0]!==(this||i).offsetParent[0]||((this||i).offset.relative=this._getRelativeOffset());if((this||i).originalPosition){if((this||i).containment){e.pageX-(this||i).offset.click.left<(this||i).containment[0]&&(r=(this||i).containment[0]+(this||i).offset.click.left);e.pageY-(this||i).offset.click.top<(this||i).containment[1]&&(a=(this||i).containment[1]+(this||i).offset.click.top);e.pageX-(this||i).offset.click.left>(this||i).containment[2]&&(r=(this||i).containment[2]+(this||i).offset.click.left);e.pageY-(this||i).offset.click.top>(this||i).containment[3]&&(a=(this||i).containment[3]+(this||i).offset.click.top)}if(n.grid){s=(this||i).originalPageY+Math.round((a-(this||i).originalPageY)/n.grid[1])*n.grid[1];a=(this||i).containment?s-(this||i).offset.click.top>=(this||i).containment[1]&&s-(this||i).offset.click.top<=(this||i).containment[3]?s:s-(this||i).offset.click.top>=(this||i).containment[1]?s-n.grid[1]:s+n.grid[1]:s;o=(this||i).originalPageX+Math.round((r-(this||i).originalPageX)/n.grid[0])*n.grid[0];r=(this||i).containment?o-(this||i).offset.click.left>=(this||i).containment[0]&&o-(this||i).offset.click.left<=(this||i).containment[2]?o:o-(this||i).offset.click.left>=(this||i).containment[0]?o-n.grid[0]:o+n.grid[0]:o}}return{top:a-(this||i).offset.click.top-(this||i).offset.relative.top-(this||i).offset.parent.top+("fixed"===(this||i).cssPosition?-(this||i).scrollParent.scrollTop():h?0:l.scrollTop()),left:r-(this||i).offset.click.left-(this||i).offset.relative.left-(this||i).offset.parent.left+("fixed"===(this||i).cssPosition?-(this||i).scrollParent.scrollLeft():h?0:l.scrollLeft())}},_rearrange:function(t,e,s,o){s?s[0].appendChild((this||i).placeholder[0]):e.item[0].parentNode.insertBefore((this||i).placeholder[0],"down"===(this||i).direction?e.item[0]:e.item[0].nextSibling);(this||i).counter=(this||i).counter?++(this||i).counter:1;var n=(this||i).counter;this._delay((function(){n===(this||i).counter&&this.refreshPositions(!o)}))},_clear:function(e,s){(this||i).reverting=false;var o,n=[];!(this||i)._noFinalSort&&(this||i).currentItem.parent().length&&(this||i).placeholder.before((this||i).currentItem);(this||i)._noFinalSort=null;if((this||i).helper[0]===(this||i).currentItem[0]){for(o in(this||i)._storedCSS)"auto"!==(this||i)._storedCSS[o]&&"static"!==(this||i)._storedCSS[o]||((this||i)._storedCSS[o]="");(this||i).currentItem.css((this||i)._storedCSS).removeClass("ui-sortable-helper")}else(this||i).currentItem.show();(this||i).fromOutside&&!s&&n.push((function(t){this._trigger("receive",t,this._uiHash((this||i).fromOutside))}));!(this||i).fromOutside&&(this||i).domPosition.prev===(this||i).currentItem.prev().not(".ui-sortable-helper")[0]&&(this||i).domPosition.parent===(this||i).currentItem.parent()[0]||s||n.push((function(t){this._trigger("update",t,this._uiHash())}));if((this||i)!==(this||i).currentContainer&&!s){n.push((function(t){this._trigger("remove",t,this._uiHash())}));n.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this||i))}}.call(this||i,(this||i).currentContainer));n.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this||i))}}.call(this||i,(this||i).currentContainer))}for(o=(this||i).containers.length-1;o>=0;o--){s||n.push(function(t){return function(e){t._trigger("deactivate",e,this._uiHash(this||i))}}.call(this||i,(this||i).containers[o]));if((this||i).containers[o].containerCache.over){n.push(function(t){return function(e){t._trigger("out",e,this._uiHash(this||i))}}.call(this||i,(this||i).containers[o]));(this||i).containers[o].containerCache.over=0}}(this||i)._storedCursor&&t("body").css("cursor",(this||i)._storedCursor);(this||i)._storedOpacity&&(this||i).helper.css("opacity",(this||i)._storedOpacity);(this||i)._storedZIndex&&(this||i).helper.css("zIndex","auto"===(this||i)._storedZIndex?"":(this||i)._storedZIndex);(this||i).dragging=false;if((this||i).cancelHelperRemoval){if(!s){this._trigger("beforeStop",e,this._uiHash());for(o=0;o<n.length;o++)n[o].call(this||i,e);this._trigger("stop",e,this._uiHash())}(this||i).fromOutside=false;return false}s||this._trigger("beforeStop",e,this._uiHash());(this||i).placeholder[0].parentNode.removeChild((this||i).placeholder[0]);(this||i).helper[0]!==(this||i).currentItem[0]&&(this||i).helper.remove();(this||i).helper=null;if(!s){for(o=0;o<n.length;o++)n[o].call(this||i,e);this._trigger("stop",e,this._uiHash())}(this||i).fromOutside=false;return true},_trigger:function(){false===t.Widget.prototype._trigger.apply(this||i,arguments)&&this.cancel()},_uiHash:function(e){var s=e||this||i;return{helper:s.helper,placeholder:s.placeholder||t([]),position:s.position,originalPosition:s.originalPosition,offset:s.positionAbs,item:s.currentItem,sender:e?e.element:null}}})})(o);(function(t){t.support.touch="ontouchend"in document;if(t.support.touch){var e=t.ui.mouse.prototype,s=e._mouseInit,o;e._touchStart=function(t){var e=this||i;if(!o&&e._mouseCapture(t.originalEvent.changedTouches[0])){o=true;e._touchMoved=false;simulateMouseEvent(t,"mouseover");simulateMouseEvent(t,"mousemove");simulateMouseEvent(t,"mousedown")}};e._touchMove=function(t){if(o){(this||i)._touchMoved=true;simulateMouseEvent(t,"mousemove")}};e._touchEnd=function(t){if(o){simulateMouseEvent(t,"mouseup");simulateMouseEvent(t,"mouseout");(this||i)._touchMoved||simulateMouseEvent(t,"click");o=false}};e._mouseInit=function(){var e=this||i;e.element.bind("touchstart",t.proxy(e,"_touchStart")).bind("touchmove",t.proxy(e,"_touchMove")).bind("touchend",t.proxy(e,"_touchEnd"));s.call(e)}}function simulateMouseEvent(t,e){if(!(t.originalEvent.touches.length>1)){t.preventDefault();var i=t.originalEvent.changedTouches[0],s=document.createEvent("MouseEvents");s.initMouseEvent(e,true,true,window,1,i.screenX,i.screenY,i.clientX,i.clientY,false,false,false,false,0,null);t.target.dispatchEvent(s)}}})(o);var n=s;var r;var a="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;var l={};var h=n;var c=e.EventEmitter;l=function(t,e,i){var s=new c;i instanceof HTMLElement||(i=document.createElement(i||"ol"));function index(t){return[].indexOf.call(t.parentNode.children,t)}sortableList(t,e,i);function length(t){return"function"===typeof t?t.length():t.length}function sortableList(t,e,i){t.forEach((function(t,s){var o=t&&e(t,s);o&&i.appendChild(o)}));var o;h(i).sortable({start:function(t,e){o=index(e.item[0])},stop:function(e,i){var n=index(i.item[0]);var r=t[o];var a=[[o,1],[n,0,r]];a.forEach((function(e){t.splice.apply(t,e);s.emit("change",t,e);s.emit("splice",e)}))}}).disableSelection()}s.element=i;s.splice=function(o,n){var l=[].slice.call(arguments,2);var h=[].slice.call(arguments);a._del=r=n||0;function at(t){return i.children[t]}while(r--)i.removeChild(at(o));l.forEach((function(t,s){var n=e(t,o+s),r=at(o);n&&(r?i.insertBefore(n,r):i.appendChild(n))}));var c=t.splice.apply(t,h);s.emit("change",t,h);s.emit("splice",h);return c};s.unshift=function(e){return s.splice(0,0,e),length(t)};s.push=function(e){return s.splice(length(t),0,e),length(t)};s.shift=function(t){return s.splice(0,1)[0]||null};s.pop=function(e){return s.splice(length(t)-1,1)[0]};s.length=function(){return length(t)};s.slice=function(){return t.slice.apply(t,arguments)};s._reset=function(o){i.innerHTML="",t.length=0;o.forEach((function(s,o){var n=e(s,o);if(n){t[o]=s;i.appendChild(n)}}));return s};return s};var f=l;export default f;

