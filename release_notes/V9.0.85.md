## Pull Request: V9.0.85 Release

### 1. Overview
This release delivers key enhancements to KPI reporting and KYC processes, introduces new investor KPI mapping functionalities, and includes general system cleanups.

### 2. Motivation
*   **KPI Improvements**: To address reported bugs in KPI reports, enhance usability with new date filters and improved links, and refine KPI mapping logic for better data handling.
*   **KYC Streamlining**: To modernize the KYC process by transitioning standard fields like 'residency' to a more flexible custom fields approach, and to add document size validation for Digio integrations.
*   **Investor KPI Mappings**: To introduce functionality for importing and downloading investor KPI mappings, thereby improving data management and reporting capabilities.
*   **Cleanup**: To remove outdated documentation and temporary files, ensuring a cleaner and more maintainable codebase.

### 3. What Changed
*   **KPIs**:
    *   Fixed a bug in simple table KPI reports.
    *   Added a date dropdown to the KPI performance table.
    *   Improved performance table links.
    *   Refined taglist filtering for KPIs.
    *   Implemented import and download features for Investor KPI Mappings (related to #930).
    *   Added checks for `nil` if KPI mapping does not have a category.
*   **KYC**:
    *   The `residency` field was moved from a standard attribute to a custom field within `InvestorKyc` (related to #932). This involved updates across various feature files and step definitions.
    *   Added document size validation for Digio uploads (related to #931).
    *   Adjusted KYC document upload examples in feature files, removing "Cancelled Cheque / Bank Statement" as a default upload.
    *   Added `kyc_bank_account_types` column to `entity_settings` in `db/schema_test.rb`.
*   **File Management**:
    *   Deleted `Kpi RAG.md`, `rails_codebase_notes.txt`, and `ubuntu@13.233.55.8`.
    *   Added new sample Excel files (`public/sample_uploads/investor_kpi_mappings.xlsx`, `public/sample_uploads/investor_kpi_mappings_test.xlsx`) for investor KPI mappings.

### 4. Refactoring / Behavior Changes
*   The `residency` field in KYC is now handled as a custom field, providing more flexibility for future KYC requirements. This is a behavioral change in how `residency` data is captured and stored for KYC.
*   The introduction of import/download for Investor KPI Mappings changes the workflow for managing these mappings, allowing for bulk operations.

### 5. Testing
*   New Cucumber features and step definitions (`features/startup/investor_kpi_mappings.feature`, `features/step_definitions/kpi.rb`) were added to cover the import and download functionality for Investor KPI Mappings.
*   Existing Cucumber tests related to KYC (`features/misc/custom_fields.feature`, `features/misc/investors.feature`, `features/step_definitions/aml_report.rb`, `features/step_definitions/investor.rb`, `features/step_definitions/investor_kyc.rb`, `features/step_definitions/kyc_verification.rb`) were updated to reflect the changes in `residency` field handling and document uploads.
*   Unit and integration tests for bug fixes and new features are assumed to be in place.

### 6. Impact
*   **Performance**: Improved KPI performance table links and taglist filtering might offer minor performance benefits in those specific views.
*   **Compatibility**: Schema changes (`kyc_bank_account_types` column) require a database migration.
*   **User Experience**: Users will benefit from more robust KPI reports, a more flexible KYC process, and the ability to bulk manage investor KPI mappings.

### 7. Review Focus
*   Verify the correct handling and migration of `residency` data in KYC, especially in existing records if applicable.
*   Review the new import/download logic for Investor KPI Mappings to ensure data integrity and error handling.
*   Confirm that all KPI-related bug fixes and enhancements behave as expected.